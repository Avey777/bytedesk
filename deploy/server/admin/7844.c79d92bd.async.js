"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7844],{92556:function(t,e,n){n.d(e,{$l:function(){return w},JT:function(){return k},Xd:function(){return T},gf:function(){return P},lg:function(){return d},lz:function(){return b},p0:function(){return f},s9:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),p=n.n(c),i=n(25191),s=n(75699);function f(t){return l.apply(this,arguments)}function l(){return(l=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/query/org",{method:"GET",params:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/create",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/create/prompt",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return v.apply(this,arguments)}function v(){return(v=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return(g=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/avatar",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return q.apply(this,arguments)}function q(){return(q=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/prompt",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return x.apply(this,arguments)}function x(){return(x=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/kbUid",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return J.apply(this,arguments)}function J(){return(J=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/delete",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},23288:function(t,e,n){n.d(e,{Bv:function(){return O},L0:function(){return S},QB:function(){return k},RF:function(){return T},YO:function(){return P},YQ:function(){return Y},Yg:function(){return w},kh:function(){return d},kv:function(){return b},pf:function(){return f},y:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),p=n.n(c),i=n(25191),s=n(75699);function f(t){return l.apply(this,arguments)}function l(){return(l=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return v.apply(this,arguments)}function v(){return(v=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return(g=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/enable",{method:"POST",data:{uid:e.uid,enabled:e.enabled,channel:i.XtJ}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return q.apply(this,arguments)}function q(){return(q=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return x.apply(this,arguments)}function x(){return(x=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return J.apply(this,arguments)}function J(){return(J=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return X.apply(this,arguments)}function X(){return(X=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateAllIndex",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return A.apply(this,arguments)}function A(){return(A=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateAllVectorIndex",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t){return U.apply(this,arguments)}function U(){return(U=p()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},e),{},{channel:i.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},90880:function(t,e,n){var r=n(73193),a=n.n(r),u=n(84176),o=n.n(u),c=n(31756),p=n(52544),i=n(32597),s=n(25191),f=n(75699),l=n(7943),d=(n(29123),n(28977)),h=n.n(d),m=n(44194),y=n(31549),w=["placeholder","defaultValue","value","style","toolbarKeys","maxLength","onChange","options"];e.Z=function(t){var e=t.placeholder,n=t.defaultValue,r=t.value,u=t.style,d=t.toolbarKeys,v=t.maxLength,b=t.onChange,g=(t.options,o()(t,w)),k=(0,f.useIntl)(),q=(0,p.Z)().isDarkMode,T=(0,m.useRef)(null),x=(0,m.useRef)(null);return(0,m.useEffect)((function(){if(T.current){if(!x.current){var t=new l.cW({element:T.current,theme:q?"dark":"light",placeholder:e,content:n,toolbarKeys:d,image:{uploadUrl:(0,i.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("orgUid",""),o.append("client",s.XtJ),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:e.data.fileUrl,alt:u}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},video:{uploadUrl:(0,i.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.XtJ),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:e.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},attachment:{uploadUrl:(0,i.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.XtJ),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{href:e.data.fileUrl,fileName:u}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},onChange:function(t){var e=t.getText(),n=e.length;if(console.log("currentLength:",n,v),n>v){c.yw.warning(k.formatMessage({id:"character.limit.reached"},{limit:v})||"已达到 ".concat(v," 字符限制"));var r,a,u=e.substring(0,v);if(setTimeout((function(){x.current&&x.current.setContent(u)}),0),"function"==typeof b)b((null===(r=x.current)||void 0===r?void 0:r.getHtml())||"",(null===(a=x.current)||void 0===a?void 0:a.getMarkdown())||"",u)}else"function"==typeof b&&b(t.getHtml(),t.getMarkdown(),t.getText())}});x.current=t}return function(){x.current&&(x.current.destroy(),x.current=null)}}}),[]),(0,m.useEffect)((function(){x.current&&r!==x.current.getHtml()&&x.current.setContent(r||"")}),[r]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",a()(a()({ref:T},g),{},{style:a()({height:"100%"},u)}))})}}}]);