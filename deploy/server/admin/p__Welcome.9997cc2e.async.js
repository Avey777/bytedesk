"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8185],{61107:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(77260),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},s=n(54183),i=function(e,t){return o.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var u=o.forwardRef(i)},11090:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(77260),o=n(44194),a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},s=n(54183),i=function(e,t){return o.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var u=o.forwardRef(i)},82615:function(e,t,n){n.d(t,{A8:function(){return l},FR:function(){return y},Kq:function(){return g},RL:function(){return x},c5:function(){return f},jM:function(){return b}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),u=n.n(i),d=n(5488),c=n(14870);function l(e){return m.apply(this,arguments)}function m(){return(m=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/query",{method:"GET",params:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/create",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/create/by/super",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return M.apply(this,arguments)}function M(){return(M=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/update",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/update/by/super",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/org/delete",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},61789:function(e,t,n){n.d(t,{EG:function(){return m},bN:function(){return h},fk:function(){return c},l8:function(){return p}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),u=n.n(i),d=n(14870);function c(e){return l.apply(this,arguments)}function l(){return(l=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/thread/query/org",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/thread/update/tagList",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/thread/delete",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/thread/process/history/activity",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},92634:function(e,t,n){n.d(t,{Wq:function(){return l}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),u=n.n(i),d=n(5488),c=n(14870);function l(e){return m.apply(this,arguments)}function m(){return(m=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/queue/query/org",{method:"GET",params:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},23643:function(e,t,n){n.d(t,{nV:function(){return c}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),u=n.n(i),d=(n(5488),n(14870));function c(e){return l.apply(this,arguments)}function l(){return(l=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/queue/member/query/org",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73660:function(e,t,n){n.d(t,{D$:function(){return g},EP:function(){return x},hS:function(){return f},z_:function(){return l}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),u=n.n(i),d=n(5488),c=n(14870);function l(e){return m.apply(this,arguments)}function m(){return(m=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/query/org",{method:"GET",params:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/create",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/update",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return M.apply(this,arguments)}function M(){return(M=u()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/delete",{method:"POST",data:s()(s()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},16274:function(e,t,n){n.r(t),n.d(t,{default:function(){return le}});var r=n(45332),o=n.n(r),a=n(34599),s=n(33363),i=n(14870),u=n(44194),d=n(90819),c=n.n(d),l=n(89933),m=n.n(l),g=n(68349),p=n(5780),f=n(93892),h=n(27259),x=n(5025),M=n(82615),b=n(18580),v=n(31549),y=function(e){var t=e.open,n=e.onClose,r=e.onSuccess,a=(0,i.useIntl)(),d=((0,i.useModel)("@@initialState").initialState||{}).userInfo,l=(0,u.useState)(!1),y=o()(l,2),j=y[0],F=y[1],q=(0,u.useState)(""),w=o()(q,2),I=w[0],A=w[1],S=(0,u.useState)(!1),k=o()(S,2),C=k[0],R=k[1],T=(0,u.useState)(!1),L=o()(T,2),Y=L[0],H=L[1];(0,u.useEffect)((function(){H((0,b.Nu)())}),[]);var Z=function(){var e=m()(c()().mark((function e(){var t,o,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=3;break}return x.yw.error(a.formatMessage({id:"welcome.message.platform.edition.required"},{defaultMessage:"只有平台版才支持创建组织"})),e.abrupt("return");case 3:if(""!==I){e.next=6;break}return x.yw.error(a.formatMessage({id:"welcome.message.org.name.required"})),e.abrupt("return");case 6:return F(!0),x.yw.loading(a.formatMessage({id:"welcome.message.org.creating"})),t=null!=d&&d.mobile?null==d?void 0:d.mobile:null==d?void 0:d.email,o={name:I,code:t,description:I+"description"},e.prev=10,e.next=13,(0,M.Kq)(o);case 13:s=e.sent,console.log("create org response:",s),200===s.code?(F(!1),x.yw.destroy(),x.yw.success(a.formatMessage({id:"welcome.message.create.success"})),r(s.data),n()):(F(!1),x.yw.destroy(),x.yw.error(s.message)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(10),F(!1),x.yw.destroy(),x.yw.error(a.formatMessage({id:"welcome.message.create.failed"}));case 23:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(g.Z,{title:a.formatMessage({id:"welcome.modal.title"}),closable:!1,open:t,onCancel:function(){x.yw.error(a.formatMessage({id:"welcome.message.org.required"}))},maskClosable:!1,footer:[(0,v.jsx)(p.ZP,{onClick:function(){(0,s.NZ)()},danger:!0,children:"退出登录"},"logout"),(0,v.jsx)(p.ZP,{type:"primary",onClick:function(){n()},disabled:!0,children:a.formatMessage({id:"welcome.modal.join"})},"join"),(0,v.jsx)(p.ZP,{type:"primary",loading:j,onClick:function(){Y?C?Z():(R(!0),F(!1)):x.yw.error(a.formatMessage({id:"welcome.message.platform.edition.required"},{defaultMessage:"只有平台版才支持创建组织"}))},disabled:!Y,children:a.formatMessage({id:"welcome.modal.create"})},"create")],children:[(0,v.jsx)("p",{children:a.formatMessage({id:"welcome.modal.description"})}),!Y&&(0,v.jsx)(f.Z,{message:(0,v.jsxs)("span",{children:[a.formatMessage({id:"welcome.message.platform.edition.required"},{defaultMessage:"只有平台版才支持创建组织"})," ",(0,v.jsx)("a",{href:"https://www.weiyuai.cn/docs/zh-CN/docs/payment",target:"_blank",rel:"noopener noreferrer",children:"了解更多"})]}),type:"warning",showIcon:!0,style:{marginBottom:16}}),C&&(0,v.jsx)(h.Z,{placeholder:a.formatMessage({id:"welcome.modal.input.placeholder"}),value:I,onChange:function(e){return A(e.target.value)},onPressEnter:Z,autoFocus:!0,disabled:!Y})]})},j=function(e){var t=e.open,n=e.onClose,r=(0,i.useIntl)(),o=(0,i.useNavigate)(),a=function(){localStorage.setItem("skipVerification","true"),n()};return(0,v.jsx)(g.Z,{title:r.formatMessage({id:"welcome.verify.modal.title",defaultMessage:"账号验证提示"}),open:t,onCancel:a,footer:[(0,v.jsx)(p.ZP,{onClick:a,children:r.formatMessage({id:"welcome.verify.later",defaultMessage:"稍后验证"})},"later"),(0,v.jsx)(p.ZP,{type:"primary",onClick:function(){n(),o("/setting/certification")},children:r.formatMessage({id:"welcome.verify.now",defaultMessage:"立即验证"})},"now")],children:(0,v.jsx)("p",{children:r.formatMessage({id:"welcome.verify.modal.description",defaultMessage:"您的邮箱和手机号尚未验证，为保障账号安全，建议您尽快完成验证。"})})})},F=n(62399),q=n(37963),w=n(62558),I=n(27904),A=(n(16698),n(87663),n(94956),n(18751)),S=(n(40629),n(5488)),k=n(28977),C=n.n(k),R=(n(72657),n(85817).Z.Title,w.default.RangePicker,I.Z.Option,n(73193)),T=n.n(R),L=n(84176),Y=n.n(L),H=n(23643),Z=n(13775),D=n(11090),E=n(851),O=n(88344),z=n(61789),$=n(73660),N=n(67828),P=n(80556),B=n(68724),W=n(53504),U=n(27073),J=function(e){var t=e.thread,n=e.drawerOpen,r=void 0!==n&&n,o=e.onClose,a=(0,i.useIntl)();return(0,v.jsx)(B.Z,{title:a.formatMessage({id:"thread.process.steps.title",defaultMessage:"会话处理流程"}),placement:"right",closable:!0,onClose:o,open:r,width:500,children:(0,v.jsx)(V,{thread:t,isDrawer:!0})})},V=function(e){var t=e.thread,n=e.isDrawer,r=void 0!==n&&n,s=(0,a.u)((function(e){return e.currentOrg})),d=(0,u.useState)([]),l=o()(d,2),g=l[0],f=l[1],h=(0,u.useState)(!1),M=o()(h,2),b=M[0],y=M[1];(0,i.useIntl)();console.log("currentThread",t,b);var j=(0,N.Z)(),q=j.memberResult,w=j.setMemberResult,I=function(){var e=m()(c()().mark((function e(){var n,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,y(!0),n={pageNumber:0,pageSize:100,uid:null==t?void 0:t.uid},e.next=7,(0,z.bN)(n);case 7:r=e.sent,console.log("queryThreadProcessHistoryActivity response:",r.data),200===r.code?f(r.data||[]):(console.log("queryThreadProcessHistoryActivity error:",r.data),x.yw.error(r.message)),y(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Fetch thread history error:",e.t0),x.yw.error("获取工单历史记录失败"),y(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=m()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.yw.loading("loading"),t={pageNumber:0,pageSize:100,orgUid:null==s?void 0:s.uid},e.next=4,(0,$.z_)(t);case 4:200===(n=e.sent).code?(x.yw.destroy(),w(n)):x.yw.destroy();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){S()}),[t]);var S=function(){I(),A()},k=function(e){if(!e)return"-";var t=q.data.content.find((function(t){return t.uid===e}));return(null==t?void 0:t.nickname)||""},C=r?{}:{maxHeight:"400px",overflowY:"auto"};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(W.Z,{spinning:b,children:(0,v.jsxs)("div",{style:C,children:[(0,v.jsx)(p.ZP,{type:"primary",shape:"circle",icon:(0,v.jsx)(P.Z,{}),size:"small",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},title:"刷新"}),(0,v.jsx)(U.Z,{direction:"vertical",size:"small",current:g.length-1,style:{padding:"16px"},items:g.map((function(e,t){var n,r;return{title:(r=null==e?void 0:e.activityName,r||"活动"),description:(0,v.jsxs)("div",{children:[(null==e?void 0:e.assignee)&&(0,v.jsxs)("div",{children:["处理人: ",k(null==e?void 0:e.assignee)||(null==e?void 0:e.assignee)]}),(0,v.jsxs)("div",{children:["处理时间: ",(null===(n=e.startTime)||void 0===n?void 0:n.toLocaleString())||"-"]})]}),status:t===g.length-1?"process":"finish"}}))}),0===g.length&&(0,v.jsx)(F.Z,{description:"请选择工单查看流转过程"})]})})})},G=["current","pageSize"],X=function(){var e=(0,i.useIntl)(),t=(0,u.useRef)(),n=(0,A.Z)().translateString,r=(0,u.useState)(1),s=o()(r,2),d=s[0],l=s[1],g=(0,u.useState)(10),f=o()(g,2),h=f[0],M=f[1],y=(0,a.u)((function(e){return e.currentOrg})),j=(0,u.useState)(!1),F=o()(j,2),q=F[0],w=F[1],I=(0,u.useState)(),k=o()(I,2),R=k[0],L=(k[1],[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,v.jsx)(i.FormattedMessage,{id:"uid",defaultMessage:"Uid"}),dataIndex:"uid",hideInSearch:!0,fixed:"left"},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.nickname"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.nickname.tooltip"}),dataIndex:"visitorNickname",width:180,copyable:!0,render:function(e,t){var r;return n(null==t||null===(r=t.thread)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.nickname)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.number"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.number.tooltip"}),dataIndex:"queueNumber",hideInSearch:!0},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.queueNickname"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.nickname.tooltip"}),dataIndex:"queueNickname",copyable:!0,width:120,hideInSearch:!0,render:function(e,t){var r;return n(null==t||null===(r=t.queue)||void 0===r?void 0:r.nickname)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robot"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robot.tooltip"}),dataIndex:"robotNickname",copyable:!0,render:function(e,t){var r,o=null==t||null===(r=t.thread)||void 0===r?void 0:r.robotProtobuf;return n(null==o?void 0:o.nickname)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.waitTime"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.waitTime.tooltip"}),dataIndex:"waitLength",hideInSearch:!0,render:function(e,t){if(!t.waitLength&&0!==t.waitLength)return"-";var n=Math.floor(t.waitLength/60),r=t.waitLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorPriority"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorPriority.tooltip"}),dataIndex:"visitorPriority",hideInSearch:!0,render:function(e,t){return t.visitorPriority||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorFirstMessageAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorFirstMessageAt.tooltip"}),dataIndex:"visitorFirstMessageAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorFirstMessageAt?C()(null==t?void 0:t.visitorFirstMessageAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorLastMessageAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorLastMessageAt.tooltip"}),dataIndex:"visitorLastMessageAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorLastMessageAt?C()(null==t?void 0:t.visitorLastMessageAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorLeavedAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorLeavedAt.tooltip"}),dataIndex:"visitorLeavedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorLeavedAt?C()(null==t?void 0:t.visitorLeavedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.enqueueTime"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.enqueueTime.tooltip"}),dataIndex:"visitorEnqueueAt",hideInSearch:!0,render:function(e,t){return C()(null==t?void 0:t.visitorEnqueueAt).format("YYYY-MM-DD HH:mm:ss")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.status"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.status.tooltip"}),dataIndex:"status",hideInSearch:!0,render:function(e,t){var n;switch(null==t||null===(n=t.thread)||void 0===n?void 0:n.status){case S.ach:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.new"});case S.j0C:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.roboting"});case S.Q7C:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.offline"});case S.v1N:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.queuing"});case S.hl2:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.chatting"});case S.V1n:return(0,v.jsx)(i.FormattedMessage,{id:"thread.process.status.closed"});default:return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.status.unknown"})}}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptType"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptType.tooltip"}),dataIndex:"robotAcceptType",hideInSearch:!0,render:function(e,t){switch(null==t?void 0:t.robotAcceptType){case"AUTO":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.auto"});case"MANUAL":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.manual"});case"ROBOT":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.robot"});default:return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.unknown"})}}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptTime"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptTime.tooltip"}),dataIndex:"robotAcceptedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotAcceptedAt?C()(null==t?void 0:t.robotAcceptedAt).format("YYYY-MM-DD HH:mm:ss"):"未接入"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.tooltip"}),dataIndex:"robotFirstResponse",hideInSearch:!0,render:function(e,t){return t.robotFirstResponse?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponseAt.tooltip"}),dataIndex:"robotFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotFirstResponseAt?C()(null==t?void 0:t.robotFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotLastResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotLastResponseAt.tooltip"}),dataIndex:"robotLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotLastResponseAt?C()(null==t?void 0:t.robotLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotClosedAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotClosedAt.tooltip"}),dataIndex:"robotClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotClosedAt?C()(null==t?void 0:t.robotClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgent"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgent.tooltip"}),dataIndex:"robotToAgent",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgentTime"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgentTime.tooltip"}),dataIndex:"robotToAgentAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?C()(null==t?void 0:t.robotToAgentAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAvgResponseLength"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotAvgResponseLength.tooltip"}),dataIndex:"robotAvgResponseLength",hideInSearch:!0,render:function(e,t){if(!t.robotAvgResponseLength&&0!==t.robotAvgResponseLength)return"-";var n=Math.floor(t.robotAvgResponseLength/60),r=t.robotAvgResponseLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotMaxResponseLength"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotMaxResponseLength.tooltip"}),dataIndex:"robotMaxResponseLength",hideInSearch:!0,render:function(e,t){if(!t.robotMaxResponseLength&&0!==t.robotMaxResponseLength)return"-";var n=Math.floor(t.robotMaxResponseLength/60),r=t.robotMaxResponseLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.tooltip"}),dataIndex:"robotTimeout",hideInSearch:!0,render:function(e,t){return t.robotTimeout?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeoutAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeoutAt.tooltip"}),dataIndex:"robotTimeoutAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotTimeoutAt?C()(null==t?void 0:t.robotTimeoutAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agent"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agent.tooltip"}),dataIndex:"agentNickname",copyable:!0,render:function(e,t){var r,o=JSON.parse((null==t||null===(r=t.thread)||void 0===r?void 0:r.agent)||"{}");return n(null==o?void 0:o.nickname)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline.tooltip"}),dataIndex:"agentOffline",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?null!=t&&t.agentOffline?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.offline.no"}):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptType"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptType.tooltip"}),dataIndex:"agentAcceptType",hideInSearch:!0,render:function(e,t){switch(null==t?void 0:t.agentAcceptType){case"AUTO":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.auto"});case"MANUAL":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.manual"});case"ROBOT":return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.robot"});default:return(0,v.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.unknown"})}}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptTime"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptTime.tooltip"}),dataIndex:"agentAcceptedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentAcceptedAt?C()(null==t?void 0:t.agentAcceptedAt).format("YYYY-MM-DD HH:mm:ss"):"未接入"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.tooltip"}),dataIndex:"agentFirstResponse",hideInSearch:!0,render:function(e,t){return t.agentFirstResponse?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseLength"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseLength.tooltip"}),dataIndex:"agentFirstResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentFirstResponseLength&&0!==t.agentFirstResponseLength)return"-";var n=Math.floor(t.agentFirstResponseLength/60),r=t.agentFirstResponseLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseAt.tooltip"}),dataIndex:"agentFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentFirstResponseAt?C()(null==t?void 0:t.agentFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentLastResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentLastResponseAt.tooltip"}),dataIndex:"agentLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentLastResponseAt?C()(null==t?void 0:t.agentLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClosedAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClosedAt.tooltip"}),dataIndex:"agentClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentClosedAt?C()(null==t?void 0:t.agentClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.solved"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.solved.tooltip"}),dataIndex:"resolved",hideInSearch:!0,render:function(e,t){return t.resolved?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.solved.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.solved.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rated"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rated.tooltip"}),dataIndex:"rated",hideInSearch:!0,render:function(e,t){return t.rated?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rated.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rated.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rateScore"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rateScore.tooltip"}),dataIndex:"rateScore",hideInSearch:!0},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rateAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.rateAt.tooltip"}),dataIndex:"rateAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.rateAt?C()(null==t?void 0:t.rateAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityChecked"}),dataIndex:"qualityChecked",key:"qualityChecked",width:150,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityChecked.tooltip"}),valueEnum:{true:{text:"已质检",status:"Success"},false:{text:"待质检",status:"Processing"}},render:function(e,t){return(0,v.jsx)(O.Z,{color:t.qualityChecked?"green":"blue",children:t.qualityChecked?"已质检":"待质检"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckScore"}),dataIndex:"qualityCheckScore",key:"qualityCheckScore",width:100,hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckScore.tooltip"}),render:function(e,t){return(0,v.jsxs)(O.Z,{color:t.qualityCheckScore>=90?"green":t.qualityCheckScore>=80?"orange":"red",children:[t.qualityCheckScore||0,"分"]})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckedAt"}),dataIndex:"qualityCheckedAt",key:"qualityCheckedAt",valueType:"dateTime",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckedAt.tooltip"}),render:function(e,t){return t.qualityCheckedAt||"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.summarized"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.summarized.tooltip"}),dataIndex:"summarized",hideInSearch:!0,render:function(e,t){return t.summarized?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.summarized.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.summarized.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorMessageCount"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.visitorMessageCount.tooltip"}),dataIndex:"visitorMessageCount",hideInSearch:!0,render:function(e,t){return t.visitorMessageCount||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentMessageCount"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentMessageCount.tooltip"}),dataIndex:"agentMessageCount",hideInSearch:!0,render:function(e,t){return t.agentMessageCount||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAvgResponseLength"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentAvgResponseLength.tooltip"}),dataIndex:"agentAvgResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentAvgResponseLength&&0!==t.agentAvgResponseLength)return"-";var n=Math.floor(t.agentAvgResponseLength/60),r=t.agentAvgResponseLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentMaxResponseLength"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentMaxResponseLength.tooltip"}),dataIndex:"agentMaxResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentMaxResponseLength&&0!==t.agentMaxResponseLength)return"-";var n=Math.floor(t.agentMaxResponseLength/60),r=t.agentMaxResponseLength%60;return n>0?"".concat(n,"分").concat(r,"秒"):"".concat(r,"秒")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.tooltip"}),dataIndex:"agentTimeout",hideInSearch:!0,render:function(e,t){return t.agentTimeout?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutAt.tooltip"}),dataIndex:"agentTimeoutAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentTimeoutAt?C()(null==t?void 0:t.agentTimeoutAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutCount"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutCount.tooltip"}),dataIndex:"agentTimeoutCount",hideInSearch:!0,render:function(e,t){return t.agentTimeoutCount||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClose"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.tooltip"}),dataIndex:"agentClose",hideInSearch:!0,render:function(e,t){return t.agentClose?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemFirstResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemFirstResponseAt.tooltip"}),dataIndex:"systemFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemFirstResponseAt?C()(null==t?void 0:t.systemFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemLastResponseAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemLastResponseAt.tooltip"}),dataIndex:"systemLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemLastResponseAt?C()(null==t?void 0:t.systemLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClosedAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClosedAt.tooltip"}),dataIndex:"systemClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemClosedAt?C()(null==t?void 0:t.systemClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClose"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.tooltip"}),dataIndex:"systemClose",hideInSearch:!0,render:function(e,t){return t.systemClose?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemMessageCount"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.systemMessageCount.tooltip"}),dataIndex:"systemMessageCount",hideInSearch:!0,render:function(e,t){return t.systemMessageCount||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.messageLeaveAt"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.messageLeaveAt.tooltip"}),dataIndex:"messageLeaveAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.messageLeaveAt?C()(null==t?void 0:t.messageLeaveAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotMessageCount"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.robotMessageCount.tooltip"}),dataIndex:"robotMessageCount",hideInSearch:!0,render:function(e,t){return t.robotMessageCount||0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.tooltip"}),dataIndex:"messageLeave",hideInSearch:!0,render:function(e,t){return t.messageLeave?(0,v.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.yes"}):(0,v.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.no"})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"channel"}),tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.channel.tooltip"}),dataIndex:"channel",copyable:!0,hideInSearch:!0,render:function(e,t){var n;return(0,Z.YG)(null==t||null===(n=t.thread)||void 0===n?void 0:n.channel)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",width:180,hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.tooltip.createdAt"}),render:function(e,t,n,r){return C()(t.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:(0,v.jsx)(i.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",width:180,hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.tooltip.updatedAt"}),render:function(e,t,n,r){return C()(t.updatedAt).format("YYYY-MM-DD HH:mm:ss")}}]);L.push({title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:100,fixed:"right",render:function(t,n,r,o){return[(0,v.jsx)("a",{onClick:function(){z(n)},children:e.formatMessage({id:"view",defaultMessage:"View"})},"view")]}});var z=function(e){var t,n;console.log("handleShowChatHistory",e);var r={chatConfig:{org:null==y?void 0:y.uid,t:S.CCt,sid:null==e||null===(t=e.thread)||void 0===t?void 0:t.uid}};null===(n=window.bytedesk)||void 0===n||n.showChat(r)},$=function(){var e=m()(c()().mark((function e(){var t;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",d,h),t=localStorage.getItem(S.LA8),window.open((0,b.kG)()+"/api/v1/queue/member/export?"+new URLSearchParams({orgUid:(null==y?void 0:y.uid)||"",pageNumber:String(d-1),pageSize:String(h),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(E.Z,{columns:L,actionRef:t,cardBordered:!0,scroll:{x:"max-content"},request:function(){var t=m()(c()().mark((function t(n,r,o){var a,s,i,u,d;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),a=n.current,s=n.pageSize,i=Y()(n,G),l(a),M(s),u=T()({pageNumber:a-1,pageSize:s,orgUid:null==y?void 0:y.uid},i),t.next=7,(0,H.nV)(u);case 7:return d=t.sent,console.log("queryQueueMembersByOrg response:",u,d),x.yw.destroy(),200===d.code||x.yw.error(d.message),t.abrupt("return",{data:d.data.content,success:!0,total:d.data.totalElements});case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:e.formatMessage({id:"queue.member.list"}),toolBarRender:function(){return[(0,v.jsx)(p.ZP,{icon:(0,v.jsx)(D.Z,{}),type:"primary",onClick:$,children:(0,v.jsx)(i.FormattedMessage,{id:"queue.member.export"})},"button")]},columnsState:{persistenceKey:"queue-member-table",defaultValue:{}},options:{setting:{draggable:!0,checkable:!0,checkedReset:!0,extra:[(0,v.jsx)("a",{onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.reset)||void 0===n||n.call(e)},children:(0,v.jsx)(i.FormattedMessage,{id:"table.columns.reset"})},"reset")]}}}),(0,v.jsx)(J,{thread:R,drawerOpen:q,onClose:function(){return w(!1)}})]})},Q=n(86222),K=n.n(Q),_=n(92634),ee=n(79401),te=n(78867),ne=["current","pageSize"],re=function(){var e=(0,i.useIntl)(),t=(0,u.useRef)(),n=(0,A.Z)().translateString,r=(0,u.useState)(1),s=o()(r,2),d=s[0],l=s[1],g=(0,u.useState)(10),f=o()(g,2),h=f[0],M=f[1],y=(0,a.u)((function(e){return e.currentOrg})),j=(0,u.useState)([]),F=o()(j,2),q=F[0],w=F[1],I=(0,u.useState)([]),k=o()(I,2),R=k[0],L=k[1],H=(0,u.useState)(!1),Z=o()(H,2),O=Z[0],z=Z[1],$=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,v.jsx)(i.FormattedMessage,{id:"uid",defaultMessage:"Uid"}),dataIndex:"uid",hideInSearch:!0,fixed:"left"},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.nickname"}),dataIndex:"nickname",copyable:!0,width:150,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.nickname.tooltip",defaultMessage:"客服或工作组的名称"}),render:function(e,t){return n(null==t?void 0:t.nickname)}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.type"}),dataIndex:"type",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.type.tooltip",defaultMessage:"接待类型：工作组、客服或机器人"}),render:function(e,t){switch(t.type){case S.VXt:return(0,v.jsx)(i.FormattedMessage,{id:"queue.type.workgroup"});case S.BOH:return(0,v.jsx)(i.FormattedMessage,{id:"queue.type.agent"});case S.aOw:return(0,v.jsx)(i.FormattedMessage,{id:"queue.type.robot"});default:return(0,v.jsx)(i.FormattedMessage,{id:"queue.type.unknown"})}}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.day"}),dataIndex:"day",valueType:"date",tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.day.tooltip",defaultMessage:"统计的日期"}),search:{transform:function(e){return C()(e).format("YYYY-MM-DD")}}},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.totalCount"}),dataIndex:"totalCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.totalCount.tooltip",defaultMessage:"今日请求服务总人数"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.robotingCount"}),dataIndex:"robotingCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.robotingCount.tooltip",defaultMessage:"机器人服务中人次"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.offlineCount"}),dataIndex:"offlineCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.offlineCount.tooltip",defaultMessage:"客服离线人次"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.leaveMsgCount"}),dataIndex:"leaveMsgCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.leaveMsgCount.tooltip",defaultMessage:"访客留言数量"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.robotToAgentCount"}),dataIndex:"robotToAgentCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.robotToAgentCount.tooltip",defaultMessage:"从机器人转人工的次数"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.queuingCount"}),dataIndex:"queuingCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.queuingCount.tooltip",defaultMessage:"当前排队中人数"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.chattingCount"}),dataIndex:"chattingCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.chattingCount.tooltip",defaultMessage:"正在服务中人数"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"queue.closedCount"}),dataIndex:"closedCount",hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"queue.closedCount.tooltip",defaultMessage:"已结束会话数量"})}],N=function(){var e=m()(c()().mark((function e(){var t;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",d,h),t=localStorage.getItem(S.LA8),window.open((0,b.kG)()+"/api/v1/queue/export?"+new URLSearchParams({orgUid:(null==y?void 0:y.uid)||"",pageNumber:String(d-1),pageSize:String(h),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(E.Z,{columns:$,actionRef:t,cardBordered:!0,scroll:{x:"max-content"},request:function(){var t=m()(c()().mark((function t(r,o,a){var s,i,u,d,m,g,p,f,h,b;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),z(!0),s=r.current,i=r.pageSize,u=Y()(r,ne),l(s),M(i),d=T()({pageNumber:s-1,pageSize:i,orgUid:null==y?void 0:y.uid},u),t.next=8,(0,_.Wq)(d);case 8:if(m=t.sent,console.log("queryQueuesByOrg response:",d,m),x.yw.destroy(),z(!1),200!==m.code){t.next=37;break}(g=m.data.content.map((function(e){return{day:e.day,totalCount:e.totalCount,nickname:n(e.nickname)}}))).sort((function(e,t){return C()(e.day).diff(C()(t.day))})),w(g),p=[],f=K()(m.data.content),t.prev=18,b=c()().mark((function e(){var t,r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=h.value).threadsCountByHour&&t.threadsCountByHour.length>0&&(r=n(t.nickname),o=t.day||"",t.threadsCountByHour.forEach((function(e,t){p.push({hour:String(t)+"点",count:e,nickname:r,day:o})})));case 2:case"end":return e.stop()}}),e)})),f.s();case 21:if((h=f.n()).done){t.next=25;break}return t.delegateYield(b(),"t0",23);case 23:t.next=21;break;case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(18),f.e(t.t1);case 30:return t.prev=30,f.f(),t.finish(30);case 33:L(p),console.log("Hourly chart data sample:",p.slice(0,3)),t.next=38;break;case 37:x.yw.error(m.message);case 38:return t.abrupt("return",{data:m.data.content,success:!0,total:m.data.totalElements});case 39:case"end":return t.stop()}}),t,null,[[18,27,30,33]])})));return function(e,n,r){return t.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:e.formatMessage({id:"queue.list"}),toolBarRender:function(){return[(0,v.jsx)(p.ZP,{icon:(0,v.jsx)(D.Z,{}),type:"primary",onClick:N,children:(0,v.jsx)(i.FormattedMessage,{id:"queue.export"})},"button")]}}),(0,v.jsx)(ee.Z,{title:e.formatMessage({id:"queue.totalCount.trend",defaultMessage:"总数趋势"}),style:{marginTop:16},children:(0,v.jsx)(W.Z,{spinning:O,children:q.length>0?(0,v.jsx)(te.Z,{data:q,xField:"day",yField:"totalCount",seriesField:"nickname",colorField:"nickname",tooltip:function(e){return{name:e.nickname,title:e.day,value:e.totalCount}}}):(0,v.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:e.formatMessage({id:"noData",defaultMessage:"暂无数据"})})})}),(0,v.jsx)(ee.Z,{title:e.formatMessage({id:"queue.hourly.trend",defaultMessage:"24小时接待人数趋势"}),style:{marginTop:16},children:(0,v.jsx)(W.Z,{spinning:O,children:R.length>0?(0,v.jsx)(te.Z,T()(T()({},{smooth:!0,animation:!1,lineStyle:{lineWidth:100},point:{size:5,style:{lineWidth:15}},state:{active:{style:{shadowBlur:4,stroke:"#000",fill:"red"}}},tooltip:{shared:!0}}),{},{data:R,xField:"hour",yField:"count",seriesField:"nickname",colorField:"nickname",tooltip:function(e){return{name:e.nickname,title:"".concat(e.hour,":00"),value:"".concat(e.count).concat(e.day?" (".concat(e.day,")"):"")}}})):(0,v.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:e.formatMessage({id:"noData",defaultMessage:"暂无数据"})})})})]})};function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=m()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/v1/agent/status/query/org",{method:"GET",params:T()(T()({},t),{},{channel:S.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(61107),ie=["current","pageSize"],ue=function(){var e=(0,i.useIntl)(),t=(0,u.useRef)(),n=(0,u.useState)(1),r=o()(n,2),s=r[0],d=r[1],l=(0,u.useState)(10),g=o()(l,2),f=g[0],h=g[1],M=(0,a.u)((function(e){return e.currentOrg})),y=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,v.jsx)(i.FormattedMessage,{id:"uid",defaultMessage:"Uid"}),dataIndex:"uid",hideInSearch:!0,fixed:"left",tooltip:(0,v.jsx)(i.FormattedMessage,{id:"agent.tooltip.uid"})},{title:(0,v.jsx)(i.FormattedMessage,{id:"nickname",defaultMessage:"Nickname"}),dataIndex:"agent",copyable:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"agent.tooltip.nickname"}),render:function(e,t){var n;return(0,v.jsx)(v.Fragment,{children:null==t||null===(n=t.agent)||void 0===n?void 0:n.nickname})}},{title:(0,v.jsx)(i.FormattedMessage,{id:"status",defaultMessage:"Status"}),dataIndex:"status",copyable:!0,hideInSearch:!1,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"agent.tooltip.status"}),valueEnum:{AVAILABLE:{text:e.formatMessage({id:"agent.status.available"}),status:"Success"},OFFLINE:{text:e.formatMessage({id:"agent.status.offline"}),status:"Error"},BUSY:{text:e.formatMessage({id:"agent.status.busy"}),status:"Warning"}},render:function(e,t){return"AVAILABLE"===t.status?(0,v.jsx)(O.Z,{color:"green",children:(0,v.jsx)(i.FormattedMessage,{id:"agent.status.available"})}):"OFFLINE"===t.status?(0,v.jsx)(O.Z,{color:"red",children:(0,v.jsx)(i.FormattedMessage,{id:"agent.status.offline"})}):"BUSY"===t.status?(0,v.jsx)(O.Z,{color:"orange",children:(0,v.jsx)(i.FormattedMessage,{id:"agent.status.busy"})}):void 0}},{title:(0,v.jsx)(i.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,defaultSortOrder:"descend",sortDirections:["descend","ascend"],hideInSearch:!0,tooltip:(0,v.jsx)(i.FormattedMessage,{id:"agent.tooltip.updatedAt"}),render:function(e,t,n,r){return C()(t.updatedAt).format("YYYY-MM-DD HH:mm:ss")}}],j=function(){var e=m()(c()().mark((function e(){var t;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",s,f),t=localStorage.getItem(S.LA8),window.open((0,b.kG)()+"/api/v1/agent/status/export?"+new URLSearchParams({orgUid:(null==M?void 0:M.uid)||"",pageNumber:String(s-1),pageSize:String(f),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(E.Z,{columns:y,actionRef:t,cardBordered:!0,rowClassName:function(){return"cursor-pointer"},onRow:function(t){return{onClick:function(){return function(t){var n;console.log("查看客服详情:",t),x.yw.info(e.formatMessage({id:"agent.view.detail"},{nickname:null==t||null===(n=t.agent)||void 0===n?void 0:n.nickname}))}(t)}}},request:function(){var e=m()(c()().mark((function e(t,n,r){var o,a,s,i,u;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),o=t.current,a=t.pageSize,s=Y()(t,ie),d(o),h(a),i=T()({pageNumber:o-1,pageSize:a,orgUid:null==M?void 0:M.uid},s),e.next=7,oe(i);case 7:return u=e.sent,console.log("queryAgentStatusByOrg response:",i,u),200===u.code||x.yw.error(u.message),e.abrupt("return",{data:u.data.content,success:!0,total:u.data.totalElements});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onChange:function(e,t){d(e),h(t)}},dateFormatter:"string",headerTitle:e.formatMessage({id:"agent.status.list"}),toolBarRender:function(){return[(0,v.jsx)(p.ZP,{onClick:function(){t.current&&t.current.reload()},icon:(0,v.jsx)(P.Z,{}),children:(0,v.jsx)(i.FormattedMessage,{id:"refresh",defaultMessage:"Refresh"})},"refresh"),(0,v.jsx)(p.ZP,{onClick:j,type:"primary",icon:(0,v.jsx)(se.Z,{}),children:(0,v.jsx)(i.FormattedMessage,{id:"export.excel",defaultMessage:"Export Excel"})},"export")]}})},de=function(){var e=[{key:"queue",label:(0,v.jsx)(i.FormattedMessage,{id:"queue.tab.list"}),children:(0,v.jsx)(re,{})},{key:"queue_member",label:(0,v.jsx)(i.FormattedMessage,{id:"queue.tab.member"}),children:(0,v.jsx)(X,{})},{key:"agent_status",label:(0,v.jsx)(i.FormattedMessage,{id:"agent.status.log"}),children:(0,v.jsx)(ue,{})}];return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(q.Z,{defaultActiveKey:"queue",items:e,style:{padding:"10px"}})})},ce=n(95660),le=function(){var e=((0,i.useModel)("@@initialState").initialState||{}).userInfo,t=(0,a.u)((function(e){return e.setCurrentOrg})),n=(0,i.useAccess)();n.canDebug&&ce.Z.log("Developing canDebug");var r=(0,u.useState)(!1),d=o()(r,2),c=d[0],l=d[1],m=(0,u.useState)(!1),g=o()(m,2),p=g[0],f=g[1];return(0,u.useEffect)((function(){!function(){if(e){if(!e.currentOrganization)return ce.Z.log("before initOrganization",e),void l(!0);var n=e.currentOrganization.vipExpireDate;if(ce.Z.log("vipExpireDate",n),n){var r=new Date;r.setHours(0,0,0,0);var o=new Date(n);o.setHours(0,0,0,0),r>o&&x.yw.error("当前组织会员已过期，请联系管理员续费",3)}ce.Z.log("after initOrganization"),t(e.currentOrganization)}}(),"true"!==localStorage.getItem("skipVerification")&&(!e||e.emailVerified||e.mobileVerified||f(!0)),setTimeout((function(){var e,t;(e=(0,b.NL)())!==S.OsQ&&e||(x.yw.error("检测到非法版本或许可证解密失败，系统将自动退出",3),setTimeout((function(){(0,s.NZ)()}),3e3)),((t=(0,b.Gv)())===S.OsQ||t)&&(x.yw.error("检测到非法版本或许可证解密失败或已过期，系统将自动退出",3),setTimeout((function(){(0,s.NZ)()}),3e3))}),2e3)}),[e]),(0,v.jsxs)("div",{children:[(0,v.jsx)(i.Access,{accessible:n.canAdmin()&&!n.isCommunityEdition(),fallback:(0,v.jsx)("div",{style:{marginTop:100,textAlign:"center"},children:(0,v.jsx)(F.Z,{description:"企业版&&平台版在此显示统计数据等"})}),children:(0,v.jsx)(de,{})}),(0,v.jsx)(y,{open:c,onClose:function(){return l(!1)},onSuccess:function(e){t(e),window.location.reload()}}),(0,v.jsx)(j,{open:p,onClose:function(){return f(!1)}})]})}},16698:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(73193),o=n.n(r),a=n(76711),s=n.n(a),i=n(5488),u=n(16894),d=n(45034),c=n(47401),l=(0,u.Ue)()((0,d.mW)((0,d.tJ)((0,c.n)((function(e,t){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(t){e((function(e){e.agentResult.data.content.unshift(t)}))},updateAgent:function(t){e((function(e){var n=e.agentResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Agent with uid ".concat(t.uid," not found."))}))},setAgentResult:function(n){var r;(e({agentResult:n}),""===t().currentAgent.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentAgent:n.data.content[0]}))},setCurrentAgent:function(n){var r=t().agentResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var i=[].concat(s()(r.slice(0,a)),[n],s()(r.slice(a+1))),u=o()(o()({},t().agentResult),{},{data:{content:i}});e({agentResult:u,currentAgent:n})}else console.warn("Agent with the specified uid not found."),e({currentAgent:n})},deleteCurrentAgent:function(n){var r=t().agentResult.data.content,a=r.findIndex((function(e){return e.uid===n}));-1!==a?e({agentResult:o()(o()({},t().agentResult),{},{data:{content:[].concat(s()(r.slice(0,a)),s()(r.slice(a+1)))}})}):console.warn("Agent not found in cache:",n),t().currentAgent.uid===n&&e({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return e({},!0)}}})),{name:i.zzK})))},87663:function(e,t,n){n.d(t,{$:function(){return l}});var r=n(73193),o=n.n(r),a=n(76711),s=n.n(a),i=n(5488),u=n(16894),d=n(45034),c=n(47401),l=(0,u.Ue)()((0,d.mW)((0,d.tJ)((0,c.n)((function(e,t){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(t){e((function(e){e.workgroupResult.data.content.unshift(t)}))},updateWorkgroup:function(t){e((function(e){var n=e.workgroupResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},deleteWorkgroup:function(t){e((function(e){var n=e.workgroupResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n.splice(r,1):console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},setWorkgroupResult:function(n){var r;(e({workgroupResult:n}),""===t().currentWorkgroup.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentWorkgroup:n.data.content[0]}))},setCurrentWorkgroup:function(n){var r=t().workgroupResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var i=[].concat(s()(r.slice(0,a)),[n],s()(r.slice(a+1))),u=o()(o()({},t().workgroupResult),{},{data:{content:i}});e({workgroupResult:u,currentWorkgroup:n})}else console.warn("Workgroup with the specified uid not found."),e({currentWorkgroup:n})},deleteCurrentWorkgroup:function(n){var r=t().workgroupResult.data.content,a=r.findIndex((function(e){return e.uid===n}));-1!==a?e({workgroupResult:o()(o()({},t().workgroupResult),{},{data:{content:[].concat(s()(r.slice(0,a)),s()(r.slice(a+1)))}})}):console.warn("Workgroup not found in cache:",n),t().currentWorkgroup.uid===n&&e({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return e({},!0)}}})),{name:i.b6l})))},67828:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5488),o=n(16894),a=n(45034),s=n(47401),i=(0,o.Ue)()((0,a.mW)((0,a.tJ)((0,s.n)((function(e,t){return{memberResult:{data:{content:[],totalElements:0}},insertMember:function(t){e((function(e){e.memberResult.data.content.unshift(t)}))},updateMember:function(t){e((function(e){var n=e.memberResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Member with uid ".concat(t.uid," not found."))}))},deleteMember:function(t){e((function(e){var n=e.memberResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n.splice(r,1):console.warn("Member with uid ".concat(t.uid," not found."))}))},setMemberResult:function(t){e({memberResult:t})},deleteMemberCache:function(){return e({},!0)}}})),{name:r.PQL})))},93892:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(44194),o=n(58644),a=n(92520),s=n(14377),i=n(64985),u=n(18701),d=n(51865),c=n.n(d),l=n(42976),m=n(63941),g=n(65489),p=n(15288),f=n(35779),h=n(59199),x=n(49336),M=n(79255);const b=(e,t,n,r,o)=>({background:e,border:`${(0,h.bf)(r.lineWidth)} ${r.lineType} ${t}`,[`${o}-icon`]:{color:n}}),v=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:o,fontSize:a,fontSizeLG:s,lineHeight:i,borderRadiusLG:u,motionEaseInOutCirc:d,withDescriptionIconSize:c,colorText:l,colorTextHeading:m,withDescriptionPadding:g,defaultPadding:p}=e;return{[t]:Object.assign(Object.assign({},(0,x.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:u,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:a,lineHeight:i},"&-message":{color:m},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${d}, opacity ${n} ${d},\n        padding-top ${n} ${d}, padding-bottom ${n} ${d},\n        margin-bottom ${n} ${d}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:g,[`${t}-icon`]:{marginInlineEnd:o,fontSize:c,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:m,fontSize:s},[`${t}-description`]:{display:"block",color:l}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},y=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:o,colorWarning:a,colorWarningBorder:s,colorWarningBg:i,colorError:u,colorErrorBorder:d,colorErrorBg:c,colorInfo:l,colorInfoBorder:m,colorInfoBg:g}=e;return{[t]:{"&-success":b(o,r,n,e,t),"&-info":b(g,m,l,e,t),"&-warning":b(i,s,a,e,t),"&-error":Object.assign(Object.assign({},b(c,d,u,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},j=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:o,fontSizeIcon:a,colorIcon:s,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:a,lineHeight:(0,h.bf)(a),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:s,transition:`color ${r}`,"&:hover":{color:i}}},"&-close-text":{color:s,transition:`color ${r}`,"&:hover":{color:i}}}}};var F=(0,M.I$)("Alert",(e=>[v(e),y(e),j(e)]),(e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}))),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const w={success:o.Z,info:u.Z,error:a.Z,warning:i.Z},I=e=>{const{icon:t,prefixCls:n,type:o}=e,a=w[o]||null;return t?(0,p.wm)(t,r.createElement("span",{className:`${n}-icon`},t),(()=>({className:c()(`${n}-icon`,t.props.className)}))):r.createElement(a,{className:`${n}-icon`})},A=e=>{const{isClosable:t,prefixCls:n,closeIcon:o,handleClose:a,ariaProps:i}=e,u=!0===o||void 0===o?r.createElement(s.Z,null):o;return t?r.createElement("button",Object.assign({type:"button",onClick:a,className:`${n}-close-icon`,tabIndex:0},i),u):null},S=r.forwardRef(((e,t)=>{const{description:n,prefixCls:o,message:a,banner:s,className:i,rootClassName:u,style:d,onMouseEnter:p,onMouseLeave:h,onClick:x,afterClose:M,showIcon:b,closable:v,closeText:y,closeIcon:j,action:w,id:S}=e,k=q(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[C,R]=r.useState(!1);const T=r.useRef(null);r.useImperativeHandle(t,(()=>({nativeElement:T.current})));const{getPrefixCls:L,direction:Y,closable:H,closeIcon:Z,className:D,style:E}=(0,f.dj)("alert"),O=L("alert",o),[z,$,N]=F(O),P=t=>{var n;R(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},B=r.useMemo((()=>void 0!==e.type?e.type:s?"warning":"info"),[e.type,s]),W=r.useMemo((()=>!("object"!=typeof v||!v.closeIcon)||(!!y||("boolean"==typeof v?v:!1!==j&&null!=j||!!H))),[y,j,v,H]),U=!(!s||void 0!==b)||b,J=c()(O,`${O}-${B}`,{[`${O}-with-description`]:!!n,[`${O}-no-icon`]:!U,[`${O}-banner`]:!!s,[`${O}-rtl`]:"rtl"===Y},D,i,u,N,$),V=(0,m.Z)(k,{aria:!0,data:!0}),G=r.useMemo((()=>"object"==typeof v&&v.closeIcon?v.closeIcon:y||(void 0!==j?j:"object"==typeof H&&H.closeIcon?H.closeIcon:Z)),[j,v,y,Z]),X=r.useMemo((()=>{const e=null!=v?v:H;if("object"==typeof e){const{closeIcon:t}=e;return q(e,["closeIcon"])}return{}}),[v,H]);return z(r.createElement(l.ZP,{visible:!C,motionName:`${O}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:M},(({className:t,style:o},s)=>r.createElement("div",Object.assign({id:S,ref:(0,g.sQ)(T,s),"data-show":!C,className:c()(J,t),style:Object.assign(Object.assign(Object.assign({},E),d),o),onMouseEnter:p,onMouseLeave:h,onClick:x,role:"alert"},V),U?r.createElement(I,{description:n,icon:e.icon,prefixCls:O,type:B}):null,r.createElement("div",{className:`${O}-content`},a?r.createElement("div",{className:`${O}-message`},a):null,n?r.createElement("div",{className:`${O}-description`},n):null),w?r.createElement("div",{className:`${O}-action`},w):null,r.createElement(A,{isClosable:W,prefixCls:O,closeIcon:G,handleClose:P,ariaProps:X})))))}));var k=S,C=n(40730),R=n(22633),T=n(81880),L=n(18232);let Y=function(e){function t(){var e;return(0,C.Z)(this,t),(e=(0,T.Z)(this,t,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,L.Z)(t,e),(0,R.Z)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:t,id:n,children:o}=this.props,{error:a,info:s}=this.state,i=(null==s?void 0:s.componentStack)||null,u=void 0===e?(a||"").toString():e,d=void 0===t?i:t;return a?r.createElement(k,{id:n,type:"error",message:u,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},d)}):o}}])}(r.Component);var H=Y;const Z=k;Z.ErrorBoundary=H;var D=Z}}]);