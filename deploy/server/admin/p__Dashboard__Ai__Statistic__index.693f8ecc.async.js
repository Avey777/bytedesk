"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[524],{30234:function(t,e,s){var i=s(25191),a=s(32057),n=s(75699);e.Z=function(){var t=(0,n.useIntl)();return{translateString:function(e){return null==e?e:e&&(null!=e&&e.startsWith(i.VoP)||null!=e&&e.startsWith("ROLE_"))?t.formatMessage({id:e,defaultMessage:e}):e},translateStringTranct:function(e){return null==e?e:null!=e&&e.startsWith(i.VoP)||null!=e&&e.startsWith("ROLE_")?(0,a.aS)(t.formatMessage({id:e,defaultMessage:e}),10):(0,a.aS)(e,10)}}}},43660:function(t,e,s){s.r(e);var i=s(90819),a=s.n(i),n=s(89933),r=s.n(n),o=s(45332),d=s.n(o),c=s(44194),u=s(41123),l=s(34251),g=s(19193),x=s(71373),f=s(43413),p=s(77407),m=s(8957),j=s(63065),h=s(10337),y=s(59946),v=s(5858),Z=s(9248),k=s(14318),M=s(68525),F=s(94011),w=s(35911),R=s(60107),b=s(80597),S=s(65794),I=s(13883),q=s(4108),A=s(17137),P=s(11575),W=s(96108),C=s(75699),Y=s(45135),T=s(74835),D=s(50403),U=s(57474),O=s(7999),z=s(20621),E=s(30234),K=s(31881),L=s(76001),B=s(12273),H=s(25191),Q=s(28977),_=s.n(Q),G=s(21474),J=s(32597),N=s(31549),V=u.default.RangePicker,$=l.Z.Option;e.default=function(){var t,e,s=(0,C.useIntl)(),i=(0,E.Z)().translateStringTranct,n=(0,c.useState)(_()().startOf("day")),o=d()(n,2),u=o[0],Q=o[1],X=(0,c.useState)(_()().endOf("day")),tt=d()(X,2),et=tt[0],st=tt[1],it=(0,c.useState)("today"),at=d()(it,2),nt=at[0],rt=at[1],ot=(0,c.useState)(H.whQ),dt=d()(ot,2),ct=dt[0],ut=dt[1],lt=(0,c.useState)(),gt=d()(lt,2),xt=gt[0],ft=gt[1],pt=(0,c.useState)(),mt=d()(pt,2),jt=mt[0],ht=mt[1],yt=(0,K.u)((function(t){return t.currentOrg})),vt=(0,L.E)((function(t){return t})),Zt=vt.agentResult,kt=vt.setAgentResult,Mt=(0,B.$)((function(t){return t})),Ft=Mt.workgroupResult,wt=Mt.setWorkgroupResult,Rt=(0,c.useState)(),bt=d()(Rt,2),St=(bt[0],bt[1]),It=(0,c.useState)(H.OwA),qt=d()(It,2),At=qt[0],Pt=qt[1],Wt=(0,c.useState)(!1),Ct=d()(Wt,2),Yt=(Ct[0],Ct[1]),Tt=[{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Dt=12580,Ut=85.6,Ot=25600,zt=78.9,Et=[{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1200},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1300},{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1e3},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1100}],Kt=(s.formatMessage({id:"ai.statistic.intent.product"}),s.formatMessage({id:"ai.statistic.intent.technical"}),s.formatMessage({id:"ai.statistic.intent.account"}),s.formatMessage({id:"ai.statistic.intent.other"}),.8),Lt=2.5,Bt=256,Ht=1580.5,Qt=[{key:"1",question:s.formatMessage({id:"ai.statistic.question.password"}),count:256,solved:245},{key:"2",question:s.formatMessage({id:"ai.statistic.question.upgrade"}),count:198,solved:180},{key:"3",question:s.formatMessage({id:"ai.statistic.question.price"}),count:156,solved:156}],_t={totalArticles:1580,hitRate:78.5,updateFrequency:s.formatMessage({id:"ai.statistic.frequency.daily"}),unmatchedCount:125},Gt=[{depth:s.formatMessage({id:"ai.statistic.depth.one"}),count:3500},{depth:s.formatMessage({id:"ai.statistic.depth.two"}),count:2800},{depth:s.formatMessage({id:"ai.statistic.depth.three"}),count:1500},{depth:s.formatMessage({id:"ai.statistic.depth.more"}),count:800}],Jt=(s.formatMessage({id:"ai.statistic.cost.api"}),s.formatMessage({id:"ai.statistic.cost.token"}),s.formatMessage({id:"ai.statistic.cost.storage"}),[{key:"u1",question:s.formatMessage({id:"ai.statistic.question.complex"}),count:45,category:s.formatMessage({id:"ai.statistic.category.product"})},{key:"u2",question:s.formatMessage({id:"ai.statistic.question.unclear"}),count:38,category:s.formatMessage({id:"ai.statistic.category.technical"})}]),Nt=[{type:s.formatMessage({id:"ai.statistic.feedback.positive"}),value:75},{type:s.formatMessage({id:"ai.statistic.feedback.neutral"}),value:15},{type:s.formatMessage({id:"ai.statistic.feedback.negative"}),value:10}],Vt={rate:15.5,reasons:[{type:s.formatMessage({id:"ai.statistic.abandon.timeout"}),count:120},{type:s.formatMessage({id:"ai.statistic.abandon.userQuit"}),count:85}]},$t={rate:15.8,reasons:[{type:s.formatMessage({id:"ai.statistic.transfer.complex"}),count:156},{type:s.formatMessage({id:"ai.statistic.transfer.emotion"}),count:89},{type:s.formatMessage({id:"ai.statistic.transfer.request"}),count:67}],trend:[{date:"2024-01-01",value:16.2},{date:"2024-01-02",value:15.8}]},Xt={overall:92.5,byCategory:[{key:"intent-1",category:s.formatMessage({id:"ai.statistic.intent.product"}),accuracy:94.2,samples:1200},{key:"intent-2",category:s.formatMessage({id:"ai.statistic.intent.technical"}),accuracy:91.8,samples:800}]},te=[{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.group"}),dataIndex:"group",key:"group"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.questions"}),dataIndex:"questions",key:"questions",render:function(t){return(0,N.jsx)(g.Z,{size:"small",dataSource:t,renderItem:function(t,e){return(0,N.jsx)(g.Z.Item,{children:t},"question-".concat(e))}})}},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.similarity"}),dataIndex:"similarity",key:"similarity",render:function(t){return(0,N.jsx)(x.Z,{percent:100*t,size:"small",status:t>.9?"success":"normal"})}},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.table.operation"}),key:"action",render:function(){return(0,N.jsxs)(f.Z,{children:[(0,N.jsx)(p.ZP,{type:"link",children:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.merge"})}),(0,N.jsx)(p.ZP,{type:"link",children:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.split"})})]})}}];(0,c.useEffect)((function(){if("custom"===nt)Q(u),st(et),Pt(H.dd4);else{var t=_()();"today"===nt?(Q(t),st(t),Pt(H.OwA)):"yesterday"===nt?(Q(t.subtract(1,"day")),st(t.subtract(1,"day")),Pt(H.OwA)):"week"===nt?(Q(t.startOf("week")),st(t.endOf("week")),Pt(H.dd4)):"lastWeek"===nt?(Q(t.subtract(1,"week").startOf("week")),st(t.subtract(1,"week").endOf("week")),Pt(H.dd4)):"month"===nt&&(Q(t.startOf("month")),st(t.endOf("month")),Pt(H.dd4))}}),[nt]);var ee=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,z.LE)(e);case 4:s=t.sent,console.log("fetchAllWorkgroups: ",s),200===s.code?(m.ZP.destroy(),wt(s),s.data.content.length>0&&ht(s.data.content[0].uid)):(m.ZP.destroy(),m.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,O._t)(e);case 4:s=t.sent,console.log("fetchAllAgents: ",s),200===s.code?(m.ZP.destroy(),kt(s),s.data.content.length>0&&ft(s.data.content[0].uid)):(m.ZP.destroy(),m.ZP.error(i(s.message))),console.log("queryAllAgents response",s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=r()(a()().mark((function t(){var e,i;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Yt(!0),t.prev=1,m.ZP.loading("loading"),e={type:ct,startDate:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:jt,agentUid:xt,orgUid:null==yt?void 0:yt.uid},t.next=6,(0,G.RU)(e);case 6:i=t.sent,console.log("queryStatisticServicesByOrg response",i,e),200===i.code?(m.ZP.destroy(),St(i.data)):(m.ZP.destroy(),m.ZP.error(i.message)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),m.ZP.error(s.formatMessage({id:"ticket.message.operation.failed"}));case 14:return t.prev=14,Yt(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={type:ct,startDate:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:jt,agentUid:xt,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,G.RU)(e);case 4:s=t.sent,console.log("queryStatisticServicesByOrg response",s,e),200===s.code?m.ZP.destroy():(m.ZP.destroy(),m.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){ee(),se()}),[]),(0,c.useEffect)((function(){ie()}),[ct,xt,jt]),(0,c.useEffect)((function(){ae()}),[At,ct,xt,jt]),(0,c.useEffect)((function(){ie()}),[u,et]),(0,N.jsxs)("div",{style:{padding:16},children:[(0,N.jsx)(j.Z,{style:{marginBottom:16},children:(0,N.jsxs)(f.Z,{direction:"vertical",style:{width:"100%"},children:[(0,N.jsxs)(f.Z,{wrap:!0,children:[(0,N.jsx)(h.ZP.Group,{value:nt,onChange:function(t){return rt(t.target.value)},children:Tt.map((function(t){return(0,N.jsx)(h.ZP.Button,{value:t.value,children:t.label},t.value)}))}),"custom"===nt&&(0,N.jsx)(V,{value:[u,et],onChange:function(t){Q(t[0]),st(t[1])}})]}),(0,N.jsxs)(f.Z,{wrap:!0,children:[(0,N.jsxs)(l.Z,{placeholder:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:ct,onChange:function(t){return ut(t)},children:[(0,N.jsx)($,{value:H.whQ,children:(0,N.jsx)(C.FormattedMessage,{id:"i18n.all"})}),(0,N.jsx)($,{value:H.fyH,children:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,N.jsx)($,{value:H.v5D,children:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),ct===H.fyH&&(0,N.jsx)(l.Z,{placeholder:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:xt,onChange:function(t){return ft(t)},children:null===(t=Zt.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(t){return(0,N.jsx)($,{value:null==t?void 0:t.uid,children:i(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),ct===H.v5D&&(0,N.jsx)(l.Z,{placeholder:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:jt,onChange:function(t){return ht(t)},children:null===(e=Ft.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(t){return(0,N.jsx)($,{value:null==t?void 0:t.uid,children:i(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),(0,N.jsx)(y.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,N.jsx)(p.ZP,{icon:(0,N.jsx)(F.Z,{}),onClick:function(){var t=localStorage.getItem(H.LA8);window.open((0,J.kG)()+"/api/v1/statistic/export?"+new URLSearchParams({type:ct,startDate:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:jt,agentUid:xt,orgUid:null==yt?void 0:yt.uid,accessToken:t||""}).toString())},children:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,N.jsx)(y.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,N.jsx)(p.ZP,{icon:(0,N.jsx)(w.Z,{}),onClick:function(){return ie()},children:(0,N.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.totalSessions"}),value:Dt,prefix:(0,N.jsx)(R.Z,{}),suffix:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.resolveRate"}),value:Ut,prefix:(0,N.jsx)(b.Z,{}),suffix:"%"})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.apiCalls"}),value:Ot,prefix:(0,N.jsx)(S.Z,{}),suffix:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbCoverage"}),value:zt,prefix:(0,N.jsx)(I.Z,{}),suffix:"%"})})})]}),(0,N.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.avgResponseTime"}),value:Kt,prefix:(0,N.jsx)(S.Z,{}),suffix:"s"})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.errorRate"}),value:Lt,prefix:(0,N.jsx)(q.Z,{}),suffix:"%"})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.tokenCost"}),value:Ht,prefix:(0,N.jsx)(A.Z,{}),precision:2})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(j.Z,{children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.concurrentUsers"}),value:Bt,prefix:(0,N.jsx)(P.Z,{})})})})]}),(0,N.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.trend"}),children:(0,N.jsx)(Y.Z,{data:Et,xField:"date",yField:"value",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.intent"}),children:(0,N.jsx)(T.Z,{})})})]}),(0,N.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.sessionDepth"}),extra:(0,N.jsx)(y.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.sessionDepth.tip"}),children:(0,N.jsx)(W.Z,{})}),children:(0,N.jsx)(D.Z,{data:Gt,xField:"depth",yField:"count",label:{position:"top"}})})}),(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.satisfaction"}),children:(0,N.jsx)(Y.Z,{data:[{date:"2024-01-01",value:4.2},{date:"2024-01-02",value:4.3}],xField:"date",yField:"value",yAxis:{min:0,max:5}})})})]}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.hotQuestions"}),style:{marginTop:16},children:(0,N.jsx)(M.Z,{dataSource:Qt,columns:[{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.askCount"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.solvedCount"}),dataIndex:"solved",key:"solved"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.solveRate"}),key:"solveRate",render:function(t,e){return(0,N.jsx)(x.Z,{percent:Math.round(e.solved/e.count*100),size:"small"})}}],pagination:{pageSize:5},rowKey:"key"})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbase"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbase.total"}),value:_t.totalArticles,suffix:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.article"})})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbase.hitRate"}),value:_t.hitRate,suffix:"%"})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbase.update"}),value:_t.updateFrequency})}),(0,N.jsx)(Z.Z,{span:6,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.kbase.unmatched"}),value:_t.unmatchedCount,suffix:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.question"})})})]})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.cost"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.cost.trend"}),children:(0,N.jsx)(Y.Z,{data:[{date:"2024-01-01",type:"API",value:580},{date:"2024-01-02",type:"API",value:620},{date:"2024-01-01",type:"Token",value:380},{date:"2024-01-02",type:"Token",value:420}],xField:"date",yField:"value",seriesField:"type"})})}),(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.cost.distribution"}),children:(0,N.jsx)(T.Z,{})})})]})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.peakHour.title"}),style:{marginTop:16},children:(0,N.jsx)(U.Z,{data:[{hour:"00",day:"Mon",value:30},{hour:"01",day:"Mon",value:25}],xField:"hour",yField:"day",colorField:"value",tooltip:{formatter:function(t){return{name:s.formatMessage({id:"ai.statistic.peakHour.sessions"}),value:t.value}}}})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.unsolved.title"}),style:{marginTop:16},children:(0,N.jsx)(M.Z,{dataSource:Jt,columns:[{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.category"}),dataIndex:"category",key:"category"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}}],pagination:{pageSize:5},rowKey:"key"})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.feedback.title"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(T.Z,{})}),(0,N.jsx)(Z.Z,{span:12,children:(0,N.jsx)(g.Z,{dataSource:Nt,renderItem:function(t,e){return(0,N.jsx)(g.Z.Item,{children:(0,N.jsx)(k.Z,{title:t.type,value:t.value,suffix:"%"})},"feedback-".concat(e))}})})]})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.abandon.title"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:8,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.abandon.rate"}),value:Vt.rate,suffix:"%",valueStyle:{color:Vt.rate>20?"#cf1322":"#3f8600"}})}),(0,N.jsx)(Z.Z,{span:16,children:(0,N.jsx)(D.Z,{data:Vt.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.title"}),style:{marginTop:16},children:(0,N.jsx)(M.Z,{dataSource:[{key:"s1",group:"账户登录问题",questions:["无法登录","登录失败","登录报错"],count:156,similarity:.85}],columns:te,rowKey:"key"})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.repeat.title"}),style:{marginTop:16},children:(0,N.jsx)(M.Z,{dataSource:[{key:"r1",userId:"user123",question:"如何修改密码",frequency:"每日",lastTime:"2024-01-23 14:30",totalTimes:8}],columns:[{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.repeat.user"}),dataIndex:"userId",key:"userId"}],rowKey:"key"})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.coverage.title"}),style:{marginTop:16},children:(0,N.jsx)(v.Z,{gutter:[16,16],children:[{domain:"产品功能",points:120,covered:98,missing:["高级配置","自定义功能"]}].map((function(t,e){return(0,N.jsx)(Z.Z,{span:8,children:(0,N.jsxs)(j.Z,{children:[(0,N.jsx)(k.Z,{title:t.domain,value:Math.round(t.covered/t.points*100),suffix:"%"}),(0,N.jsx)(x.Z,{percent:Math.round(t.covered/t.points*100),status:t.covered/t.points<.8?"exception":"success"})]})},"coverage-".concat(e))}))})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.transfer.title"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:8,children:(0,N.jsx)(k.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.transfer.rate"}),value:$t.rate,suffix:"%",valueStyle:{color:$t.rate>20?"#cf1322":"#3f8600"}})}),(0,N.jsx)(Z.Z,{span:16,children:(0,N.jsx)(D.Z,{data:$t.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,N.jsx)(j.Z,{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.accuracy.title"}),style:{marginTop:16},children:(0,N.jsxs)(v.Z,{gutter:[16,16],children:[(0,N.jsx)(Z.Z,{span:6}),(0,N.jsx)(Z.Z,{span:18,children:(0,N.jsx)(M.Z,{dataSource:Xt.byCategory,columns:[{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.category"}),dataIndex:"category",key:"category"},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.accuracy"}),dataIndex:"accuracy",key:"accuracy",render:function(t){return(0,N.jsx)(x.Z,{percent:t,size:"small"})}},{title:(0,N.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.samples"}),dataIndex:"samples",key:"samples"}],pagination:!1,rowKey:"key"})})]})})]})}},76001:function(t,e,s){s.d(e,{E:function(){return l}});var i=s(73193),a=s.n(i),n=s(76711),r=s.n(n),o=s(25191),d=s(16894),c=s(45034),u=s(47401),l=(0,d.Ue)()((0,c.mW)((0,c.tJ)((0,u.n)((function(t,e){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(e){t((function(t){t.agentResult.data.content.unshift(e)}))},updateAgent:function(e){t((function(t){var s=t.agentResult.data.content,i=s.findIndex((function(t){return t.uid===e.uid}));-1!==i?s[i]=e:console.warn("Agent with uid ".concat(e.uid," not found."))}))},setAgentResult:function(s){var i;(t({agentResult:s}),""===e().currentAgent.uid)&&((null===(i=s.data)||void 0===i||null===(i=i.content)||void 0===i?void 0:i.length)>0&&t({currentAgent:s.data.content[0]}))},setCurrentAgent:function(s){var i=e().agentResult.data.content,n=i.findIndex((function(t){return t.uid===s.uid}));if(-1!==n){var o=[].concat(r()(i.slice(0,n)),[s],r()(i.slice(n+1))),d=a()(a()({},e().agentResult),{},{data:{content:o}});t({agentResult:d,currentAgent:s})}else console.warn("Agent with the specified uid not found."),t({currentAgent:s})},deleteCurrentAgent:function(s){var i=e().agentResult.data.content,n=i.findIndex((function(t){return t.uid===s}));-1!==n?t({agentResult:a()(a()({},e().agentResult),{},{data:{content:[].concat(r()(i.slice(0,n)),r()(i.slice(n+1)))}})}):console.warn("Agent not found in cache:",s),e().currentAgent.uid===s&&t({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return t({},!0)}}})),{name:o.zzK})))},12273:function(t,e,s){s.d(e,{$:function(){return l}});var i=s(73193),a=s.n(i),n=s(76711),r=s.n(n),o=s(25191),d=s(16894),c=s(45034),u=s(47401),l=(0,d.Ue)()((0,c.mW)((0,c.tJ)((0,u.n)((function(t,e){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(e){t((function(t){t.workgroupResult.data.content.unshift(e)}))},updateWorkgroup:function(e){t((function(t){var s=t.workgroupResult.data.content,i=s.findIndex((function(t){return t.uid===e.uid}));-1!==i?s[i]=e:console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},deleteWorkgroup:function(e){t((function(t){var s=t.workgroupResult.data.content,i=s.findIndex((function(t){return t.uid===e.uid}));-1!==i?s.splice(i,1):console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},setWorkgroupResult:function(s){var i;(t({workgroupResult:s}),""===e().currentWorkgroup.uid)&&((null===(i=s.data)||void 0===i||null===(i=i.content)||void 0===i?void 0:i.length)>0&&t({currentWorkgroup:s.data.content[0]}))},setCurrentWorkgroup:function(s){var i=e().workgroupResult.data.content,n=i.findIndex((function(t){return t.uid===s.uid}));if(-1!==n){var o=[].concat(r()(i.slice(0,n)),[s],r()(i.slice(n+1))),d=a()(a()({},e().workgroupResult),{},{data:{content:o}});t({workgroupResult:d,currentWorkgroup:s})}else console.warn("Workgroup with the specified uid not found."),t({currentWorkgroup:s})},deleteCurrentWorkgroup:function(s){var i=e().workgroupResult.data.content,n=i.findIndex((function(t){return t.uid===s}));-1!==n?t({workgroupResult:a()(a()({},e().workgroupResult),{},{data:{content:[].concat(r()(i.slice(0,n)),r()(i.slice(n+1)))}})}):console.warn("Workgroup not found in cache:",s),e().currentWorkgroup.uid===s&&t({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return t({},!0)}}})),{name:o.b6l})))}}]);