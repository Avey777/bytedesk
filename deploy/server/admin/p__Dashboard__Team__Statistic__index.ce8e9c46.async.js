"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6805],{94011:function(e,t,s){s.d(t,{Z:function(){return o}});var a=s(77260),i=s(44194),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},r=s(5901),c=function(e,t){return i.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:n}))};var o=i.forwardRef(c)},12227:function(e,t,s){s.d(t,{Z:function(){return o}});var a=s(77260),i=s(44194),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},r=s(5901),c=function(e,t){return i.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:n}))};var o=i.forwardRef(c)},11575:function(e,t,s){var a=s(77260),i=s(44194),n=s(85333),r=s(5901),c=function(e,t){return i.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:n.Z}))},o=i.forwardRef(c);t.Z=o},15918:function(e,t,s){s.d(t,{Z:function(){return o}});var a=s(77260),i=s(44194),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},r=s(5901),c=function(e,t){return i.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:n}))};var o=i.forwardRef(c)},58823:function(e,t,s){var a=(0,s(66935).i)("DualAxes");t.Z=a},74835:function(e,t,s){var a=(0,s(66935).i)("Pie");t.Z=a},30234:function(e,t,s){var a=s(25191),i=s(32057),n=s(75699);t.Z=function(){var e=(0,n.useIntl)();return{translateString:function(t){return null==t?t:t&&(null!=t&&t.startsWith(a.VoP)||null!=t&&t.startsWith("ROLE_"))?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null==t?t:null!=t&&t.startsWith(a.VoP)||null!=t&&t.startsWith("ROLE_")?(0,i.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,i.aS)(t,10)}}}},17189:function(e,t,s){s.r(t),s.d(t,{default:function(){return ve}});var a=s(73193),i=s.n(a),n=s(90819),r=s.n(n),c=s(89933),o=s.n(c),l=s(45332),u=s.n(l),d=s(44194),g=s(41123),x=s(96154),m=s(34251),f=s(63065),p=s(43413),j=s(10337),v=s(59946),h=s(77407),Z=s(5858),y=s(9248),k=s(14318),M=s(79204),F=s(71373),w=s(68525),R=s(43443),z=s(45135),b=s(50403),S=s(58823),A=s(74835),C=s(80700),W=s(75699),T=s(8957),O={},V={},H={},I={},D={},E={},P={},B={},U={data:[{time:"00:00",value:120},{time:"02:00",value:80}],xField:"time",yField:"value",smooth:!0},q={data:[{day:"1天",value:95},{day:"7天",value:82},{day:"30天",value:75}],xField:"day",yField:"value"},L={data:[{time:"09:00",response:2.5,volume:580},{time:"10:00",response:1.8,volume:780}],xField:"time",yField:["response","volume"]},J={data:[{group:"研发群",efficiency:85},{group:"产品群",efficiency:78}],xField:"group",yField:"efficiency"},K=s(28977),Q=s.n(K),$=s(94011),_=s(35911),G=s(60107),N=s(11575),X=s(77260),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"},ee=s(5901),te=function(e,t){return d.createElement(ee.Z,(0,X.Z)({},e,{ref:t,icon:Y}))};var se=d.forwardRef(te),ae=s(14546),ie=s(15918),ne=s(12227),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"},ce=function(e,t){return d.createElement(ee.Z,(0,X.Z)({},e,{ref:t,icon:re}))};var oe=d.forwardRef(ce),le=s(7083),ue=s(25191),de=s(76001),ge=s(12273),xe=s(31881),me=s(30234),fe=s(31549),pe=g.default.RangePicker,je=(x.Z.TabPane,m.Z.Option),ve=function(){var e,t,s=(0,W.useIntl)(),a=((0,W.useAccess)(),(0,d.useState)(!1)),n=u()(a,2),c=(n[0],n[1]),l=(0,d.useState)("today"),g=u()(l,2),K=g[0],X=g[1],Y=(0,d.useState)(Q()().startOf("day")),ee=u()(Y,2),te=ee[0],re=ee[1],ce=(0,d.useState)(Q()().endOf("day")),ve=u()(ce,2),he=ve[0],Ze=ve[1],ye=(0,d.useState)({sessions:{total:0,active:0,avgDuration:0,peakHour:"00:00",quality:0,crossDept:0},users:{total:0,active:0,online:0,new:0,retention:0,dau:0},messages:{total:0,unread:0,avgResponse:0,peakValue:0,broadcast:0,types:{text:0,image:0,file:0,other:0}},groups:{total:0,active:0,avgSize:0,messageCount:0,activeness:0,crossDept:0}}),ke=u()(ye,2),Me=ke[0],Fe=(ke[1],(0,d.useState)({data:[{time:"09:00",messages:580,users:256},{time:"10:00",messages:780,users:312}],xField:"time",yField:["messages","users"],smooth:!0})),we=u()(Fe,1)[0],Re=(0,d.useState)({data:[{dept1:"技术部",dept2:"产品部",value:89},{dept1:"技术部",dept2:"市场部",value:45}],xField:"dept1",yField:"dept2",colorField:"value"}),ze=u()(Re,1)[0],be=(0,d.useState)(ue.whQ),Se=u()(be,2),Ae=Se[0],Ce=Se[1],We=(0,d.useState)(),Te=u()(We,2),Oe=Te[0],Ve=Te[1],He=(0,d.useState)(),Ie=u()(He,2),De=Ie[0],Ee=Ie[1],Pe=(0,me.Z)().translateStringTranct,Be=((0,xe.u)((function(e){return e.currentOrg})),(0,de.E)((function(e){return e.agentResult}))),Ue=(0,ge.$)((function(e){return e.workgroupResult})),qe=[{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}];(0,d.useEffect)((function(){if("custom"===K)re(te),Ze(he);else{var e=Q()();"today"===K?(re(e.startOf("day")),Ze(e.endOf("day"))):"yesterday"===K?(re(e.subtract(1,"day").startOf("day")),Ze(e.subtract(1,"day").endOf("day"))):"week"===K?(re(e.startOf("week")),Ze(e.endOf("week"))):"lastWeek"===K?(re(e.subtract(1,"week").startOf("week")),Ze(e.subtract(1,"week").endOf("week"))):"month"===K&&(re(e.startOf("month")),Ze(e.endOf("month")))}}),[K]);var Le=function(){var e=o()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c(!0)}catch(e){T.ZP.error(s.formatMessage({id:"team.statistic.fetch.failed"}))}finally{c(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){Le();var e=setInterval(Le,3e4);return function(){return clearInterval(e)}}),[te,he]),(0,d.useEffect)((function(){Le()}),[Ae,Oe,De]),(0,fe.jsxs)("div",{style:{padding:16},children:[(0,fe.jsx)(f.Z,{style:{marginBottom:16},children:(0,fe.jsxs)(p.Z,{direction:"vertical",style:{width:"100%"},children:[(0,fe.jsxs)(p.Z,{wrap:!0,children:[(0,fe.jsx)(j.ZP.Group,{value:K,onChange:function(e){return X(e.target.value)},children:qe.map((function(e){return(0,fe.jsx)(j.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===K&&(0,fe.jsx)(pe,{value:[te,he],onChange:function(e){re(e[0]),Ze(e[1])}})]}),(0,fe.jsxs)(p.Z,{wrap:!0,children:[(0,fe.jsxs)(m.Z,{placeholder:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:Ae,onChange:function(e){return Ce(e)},children:[(0,fe.jsx)(je,{value:ue.whQ,children:(0,fe.jsx)(W.FormattedMessage,{id:"i18n.all"})}),(0,fe.jsx)(je,{value:ue.fyH,children:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,fe.jsx)(je,{value:ue.v5D,children:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),Ae===ue.fyH&&(0,fe.jsx)(m.Z,{placeholder:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:Oe,onChange:function(e){return Ve(e)},children:null===(e=Be.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(e){return(0,fe.jsx)(je,{value:null==e?void 0:e.uid,children:Pe(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),Ae===ue.v5D&&(0,fe.jsx)(m.Z,{placeholder:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:De,onChange:function(e){return Ee(e)},children:null===(t=Ue.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return(0,fe.jsx)(je,{value:null==e?void 0:e.uid,children:Pe(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),(0,fe.jsx)(v.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,fe.jsx)(h.ZP,{icon:(0,fe.jsx)($.Z,{}),onClick:function(){T.ZP.warning("TODO: 待实现")},children:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,fe.jsx)(v.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,fe.jsx)(h.ZP,{icon:(0,fe.jsx)(_.Z,{}),onClick:function(){return Le()},children:(0,fe.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsx)(y.Z,{span:6,children:(0,fe.jsxs)(f.Z,{children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.sessions.total"}),value:Me.sessions.total,prefix:(0,fe.jsx)(G.Z,{}),suffix:(0,fe.jsx)(v.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.sessions.active"}),children:(0,fe.jsx)(M.Z,{count:Me.sessions.active,overflowCount:999,style:{backgroundColor:"#52c41a"}})})}),(0,fe.jsx)(F.Z,{percent:20*Me.sessions.quality,size:"small",status:"active",format:function(e){return"".concat(Me.sessions.quality,"分")}})]})}),(0,fe.jsx)(y.Z,{span:6,children:(0,fe.jsxs)(f.Z,{children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.users.total"}),value:Me.users.total,prefix:(0,fe.jsx)(N.Z,{}),valueStyle:{color:"#1890ff"}}),(0,fe.jsxs)("div",{style:{marginTop:8},children:[(0,fe.jsx)(M.Z,{status:"processing",text:"".concat(Me.users.online," 在线")}),(0,fe.jsx)(M.Z,{status:"success",text:"".concat(Me.users.active," 活跃"),style:{marginLeft:8}})]})]})}),(0,fe.jsx)(y.Z,{span:6,children:(0,fe.jsxs)(f.Z,{children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.messages.total"}),value:Me.messages.total,prefix:(0,fe.jsx)(G.Z,{}),valueStyle:{color:"#52c41a"}}),(0,fe.jsx)(F.Z,{percent:Me.messages.types.text,success:{percent:Me.messages.types.image},size:"small"})]})}),(0,fe.jsx)(y.Z,{span:6,children:(0,fe.jsxs)(f.Z,{children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.groups.total"}),value:Me.groups.total,prefix:(0,fe.jsx)(se,{}),valueStyle:{color:"#faad14"}}),(0,fe.jsx)(F.Z,{percent:Me.groups.activeness,size:"small",status:"active"})]})})]}),(0,fe.jsxs)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.session.detail"}),style:{marginTop:16},children:[(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsx)(y.Z,{span:8,children:(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.session.avgDuration"}),value:Me.sessions.avgDuration,suffix:"min",prefix:(0,fe.jsx)(ae.Z,{})})}),(0,fe.jsx)(y.Z,{span:8,children:(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.session.peakHour"}),value:Me.sessions.peakHour,suffix:(0,fe.jsx)(ae.Z,{})})}),(0,fe.jsx)(y.Z,{span:8,children:(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.session.crossDept"}),value:Me.sessions.crossDept,suffix:"%",prefix:(0,fe.jsx)(N.Z,{})})})]}),(0,fe.jsx)("div",{style:{marginTop:16},children:(0,fe.jsx)(z.Z,i()({},U))})]}),(0,fe.jsxs)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.retention.analysis"}),style:{marginTop:16},children:[(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsxs)(y.Z,{span:12,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.new"}),value:Me.users.new,prefix:(0,fe.jsx)(ie.Z,{}),valueStyle:{color:"#52c41a"}}),(0,fe.jsx)(F.Z,{percent:Me.users.new/100,size:"small"})]}),(0,fe.jsxs)(y.Z,{span:12,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.distribution"}),value:(Me.users.active/Me.users.total*100).toFixed(1),suffix:"%",prefix:(0,fe.jsx)(ne.Z,{})}),(0,fe.jsx)(F.Z,{percent:Me.users.active/Me.users.total*100,size:"small",status:"active"})]})]}),(0,fe.jsx)("div",{style:{marginTop:16},children:(0,fe.jsx)(b.Z,i()({},q))})]}),(0,fe.jsxs)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.response"}),style:{marginTop:16},children:[(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.unread"}),value:Me.messages.unread,valueStyle:{color:"#ff4d4f"},prefix:(0,fe.jsx)(oe,{})}),(0,fe.jsx)(F.Z,{percent:Me.messages.unread/Me.messages.total*100,size:"small",status:"exception"})]}),(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.avgResponse"}),value:Me.messages.avgResponse,suffix:"min",prefix:(0,fe.jsx)(ae.Z,{})}),(0,fe.jsx)(F.Z,{percent:(5-Me.messages.avgResponse)/5*100,size:"small",status:"active"})]}),(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.broadcast"}),value:Me.messages.broadcast,suffix:"%",prefix:(0,fe.jsx)(le.Z,{})}),(0,fe.jsx)(F.Z,{percent:Me.messages.broadcast,size:"small"})]})]}),(0,fe.jsx)("div",{style:{marginTop:16},children:(0,fe.jsx)(S.Z,i()({},L))})]}),(0,fe.jsxs)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.efficiency"}),style:{marginTop:16},children:[(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.avgSize"}),value:Me.groups.avgSize,suffix:(0,fe.jsx)(N.Z,{})}),(0,fe.jsx)(F.Z,{percent:Me.groups.avgSize/30*100,size:"small"})]}),(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.messageCount"}),value:Me.groups.messageCount,prefix:(0,fe.jsx)(G.Z,{})}),(0,fe.jsx)(F.Z,{percent:Me.groups.messageCount/1e5*100,size:"small",status:"active"})]}),(0,fe.jsxs)(y.Z,{span:8,children:[(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.crossDept"}),value:Me.groups.crossDept,suffix:"%",prefix:(0,fe.jsx)(N.Z,{})}),(0,fe.jsx)(F.Z,{percent:Me.groups.crossDept,size:"small"})]})]}),(0,fe.jsx)("div",{style:{marginTop:16},children:(0,fe.jsx)(b.Z,i()({},J))})]}),(0,fe.jsx)(f.Z,{style:{marginTop:16},children:(0,fe.jsx)(x.Z,{defaultActiveKey:"trend",items:[{key:"trend",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.realtime.trend"}),children:(0,fe.jsx)(S.Z,i()({},we))},{key:"heatmap",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.dept.heatmap"}),children:(0,fe.jsx)(b.Z,i()({},ze))}]})}),(0,fe.jsxs)(Z.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,fe.jsx)(y.Z,{span:12,children:(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.analysis"}),children:(0,fe.jsx)(A.Z,{data:Object.entries(Me.messages.types).map((function(e){var t=u()(e,2);return{type:t[0],value:t[1]}})),angleField:"value",colorField:"type",radius:.8})})}),(0,fe.jsx)(y.Z,{span:12,children:(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.analysis"}),children:(0,fe.jsx)(b.Z,{data:[{type:"技术部",value:Me.groups.active},{type:"产品部",value:.8*Me.groups.active}],xField:"type",yField:"value"})})})]}),(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.efficiency"}),style:{marginTop:16},children:(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsx)(y.Z,{span:6,children:(0,fe.jsx)(C.Z,{percent:Me.sessions.quality/5,range:{color:["#f5222d","#faad14","#52c41a"]}})}),(0,fe.jsx)(y.Z,{span:18,children:(0,fe.jsx)(w.Z,{columns:[{title:"部门",dataIndex:"dept"},{title:"响应时间",dataIndex:"responseTime"},{title:"解决率",dataIndex:"resolveRate"},{title:"满意度",dataIndex:"satisfaction"}],dataSource:[],size:"small"})})]})}),(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.activity"}),style:{marginTop:16},children:(0,fe.jsxs)(Z.Z,{gutter:[16,16],children:[(0,fe.jsx)(y.Z,{span:8,children:(0,fe.jsx)(k.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.dau"}),value:Me.users.dau,suffix:(0,fe.jsx)(v.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.user.retention"}),children:(0,fe.jsxs)(R.Z,{color:"blue",children:[Me.users.retention,"%"]})})})}),(0,fe.jsx)(y.Z,{span:16,children:(0,fe.jsx)(z.Z,i()({},O))})]})}),(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.dept.collaboration"}),style:{marginTop:16},children:(0,fe.jsx)(x.Z,{items:[{key:"network",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.dept.network"}),children:(0,fe.jsx)(A.Z,i()({},V))},{key:"matrix",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.dept.matrix"}),children:(0,fe.jsx)(b.Z,i()({},H))}]})}),(0,fe.jsxs)(Z.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,fe.jsx)(y.Z,{span:12,children:(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.size"}),children:(0,fe.jsx)(A.Z,i()({},I))})}),(0,fe.jsx)(y.Z,{span:12,children:(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.group.activity"}),children:(0,fe.jsx)(b.Z,i()({},D))})})]}),(0,fe.jsx)(f.Z,{title:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.detail"}),style:{marginTop:16},children:(0,fe.jsx)(x.Z,{items:[{key:"trend",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.trend"}),children:(0,fe.jsx)(S.Z,i()({},E))},{key:"type",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.type"}),children:(0,fe.jsx)(A.Z,i()({},P))},{key:"hour",label:(0,fe.jsx)(W.FormattedMessage,{id:"team.statistic.message.hour"}),children:(0,fe.jsx)(b.Z,i()({},B))}]})})]})}},76001:function(e,t,s){s.d(t,{E:function(){return d}});var a=s(73193),i=s.n(a),n=s(76711),r=s.n(n),c=s(25191),o=s(16894),l=s(45034),u=s(47401),d=(0,o.Ue)()((0,l.mW)((0,l.tJ)((0,u.n)((function(e,t){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(t){e((function(e){e.agentResult.data.content.unshift(t)}))},updateAgent:function(t){e((function(e){var s=e.agentResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s[a]=t:console.warn("Agent with uid ".concat(t.uid," not found."))}))},setAgentResult:function(s){var a;(e({agentResult:s}),""===t().currentAgent.uid)&&((null===(a=s.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&e({currentAgent:s.data.content[0]}))},setCurrentAgent:function(s){var a=t().agentResult.data.content,n=a.findIndex((function(e){return e.uid===s.uid}));if(-1!==n){var c=[].concat(r()(a.slice(0,n)),[s],r()(a.slice(n+1))),o=i()(i()({},t().agentResult),{},{data:{content:c}});e({agentResult:o,currentAgent:s})}else console.warn("Agent with the specified uid not found."),e({currentAgent:s})},deleteCurrentAgent:function(s){var a=t().agentResult.data.content,n=a.findIndex((function(e){return e.uid===s}));-1!==n?e({agentResult:i()(i()({},t().agentResult),{},{data:{content:[].concat(r()(a.slice(0,n)),r()(a.slice(n+1)))}})}):console.warn("Agent not found in cache:",s),t().currentAgent.uid===s&&e({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return e({},!0)}}})),{name:c.zzK})))},12273:function(e,t,s){s.d(t,{$:function(){return d}});var a=s(73193),i=s.n(a),n=s(76711),r=s.n(n),c=s(25191),o=s(16894),l=s(45034),u=s(47401),d=(0,o.Ue)()((0,l.mW)((0,l.tJ)((0,u.n)((function(e,t){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(t){e((function(e){e.workgroupResult.data.content.unshift(t)}))},updateWorkgroup:function(t){e((function(e){var s=e.workgroupResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s[a]=t:console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},deleteWorkgroup:function(t){e((function(e){var s=e.workgroupResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s.splice(a,1):console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},setWorkgroupResult:function(s){var a;(e({workgroupResult:s}),""===t().currentWorkgroup.uid)&&((null===(a=s.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&e({currentWorkgroup:s.data.content[0]}))},setCurrentWorkgroup:function(s){var a=t().workgroupResult.data.content,n=a.findIndex((function(e){return e.uid===s.uid}));if(-1!==n){var c=[].concat(r()(a.slice(0,n)),[s],r()(a.slice(n+1))),o=i()(i()({},t().workgroupResult),{},{data:{content:c}});e({workgroupResult:o,currentWorkgroup:s})}else console.warn("Workgroup with the specified uid not found."),e({currentWorkgroup:s})},deleteCurrentWorkgroup:function(s){var a=t().workgroupResult.data.content,n=a.findIndex((function(e){return e.uid===s}));-1!==n?e({workgroupResult:i()(i()({},t().workgroupResult),{},{data:{content:[].concat(r()(a.slice(0,n)),r()(a.slice(n+1)))}})}):console.warn("Workgroup not found in cache:",s),t().currentWorkgroup.uid===s&&e({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return e({},!0)}}})),{name:c.b6l})))}}]);