"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6016],{51344:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(73743),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},83381:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(73743),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},28031:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(73743),a=r(44194),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},80503:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(73743),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},38805:function(e,t,r){var n=r(7657),a=r(75101),s=r(34424),o=r(44194),i=r(13886),l=r(11764),c=r(31549),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var r=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,h=e.mode,m=e.valueEnum,g=e.request,v=e.showSearch,x=e.options,w=(0,a.Z)(e,u),b=(0,o.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(m),request:g,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:x,mode:h,showSearch:v,getPopupContainer:b.getPopupContainer},r),ref:t,proFieldProps:f},w),{},{children:d}))},f=o.forwardRef((function(e,t){var r=e.fieldProps,u=e.children,p=e.params,f=e.proFieldProps,h=e.mode,m=e.valueEnum,g=e.request,v=e.options,x=(0,a.Z)(e,d),w=(0,n.Z)({options:v,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),b=(0,o.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(m),request:g,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:b.getPopupContainer},w),ref:t,proFieldProps:f},x),{},{children:u}))})),h=o.forwardRef(p);h.SearchSelect=f,h.displayName="ProFormComponent",t.Z=h},32698:function(e,t,r){var n=r(7657),a=r(75101),s=r(44194),o=r(11764),i=r(31549),l=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],c=s.forwardRef((function(e,t){var r=e.fieldProps,s=e.unCheckedChildren,c=e.checkedChildren,u=e.proFieldProps,d=(0,a.Z)(e,l);return(0,i.jsx)(o.Z,(0,n.Z)({valueType:"switch",fieldProps:(0,n.Z)({unCheckedChildren:s,checkedChildren:c},r),ref:t,valuePropName:"checked",proFieldProps:u,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}));t.Z=c},47173:function(e,t,r){var n=r(69578),a=r(7657),s=r(75101),o=r(92032),i=r(8101),l=r(31328),c=r(21762),u=r(44194),d=r(11764),p=r(31549),f=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],m="text",g=function(e){var t=(0,o.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),r=(0,n.Z)(t,2),s=r[0],c=r[1];return(0,p.jsx)(i.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var r,n=t.getFieldValue(e.name||[]);return(0,p.jsx)(l.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return c(e)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[null===(r=e.statusRender)||void 0===r?void 0:r.call(e,n),e.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:s,children:e.children}))}})},v=function(e){var t=e.fieldProps,r=e.proFieldProps,n=(0,s.Z)(e,f);return(0,p.jsx)(d.Z,(0,a.Z)({valueType:m,fieldProps:t,filedConfig:{valueType:m},proFieldProps:r},n))};v.Password=function(e){var t=e.fieldProps,r=e.proFieldProps,o=(0,s.Z)(e,h),i=(0,u.useState)(!1),l=(0,n.Z)(i,2),f=l[0],v=l[1];return null!=t&&t.statusRender&&o.name?(0,p.jsx)(g,{name:o.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:f,onOpenChange:v,children:(0,p.jsx)("div",{children:(0,p.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,c.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var r;null==t||null===(r=t.onBlur)||void 0===r||r.call(t,e),v(!1)},onClick:function(e){var r;null==t||null===(r=t.onClick)||void 0===r||r.call(t,e),v(!0)}}),proFieldProps:r,filedConfig:{valueType:m}},o))})}):(0,p.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:m}},o))},v.displayName="ProFormComponent",t.Z=v},87587:function(e,t,r){var n=r(7657),a=r(75101),s=r(44194),o=r(11764),i=r(31549),l=["fieldProps","proFieldProps"],c=function(e,t){var r=e.fieldProps,s=e.proFieldProps,c=(0,a.Z)(e,l);return(0,i.jsx)(o.Z,(0,n.Z)({ref:t,valueType:"textarea",fieldProps:r,proFieldProps:s},c))};t.Z=s.forwardRef(c)},34335:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}});var n=r(84176),a=r.n(n),s=r(73193),o=r.n(s),i=r(86222),l=r.n(i),c=r(90819),u=r.n(c),d=r(89933),p=r.n(d),f=r(45332),h=r.n(f),m=r(28370),g=r(63926),v=r(93363);function x(e){return w.apply(this,arguments)}function w(){return(w=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/webrtc/query/org",{method:"GET",webrtc:o()(o()({},t),{},{client:g.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/webrtc/create",{method:"POST",data:o()(o()({},t),{},{client:g.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return M.apply(this,arguments)}function M(){return(M=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/webrtc/update",{method:"POST",data:o()(o()({},t),{},{client:g.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return k.apply(this,arguments)}function k(){return(k=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/webrtc/delete",{method:"POST",data:o()(o()({},t),{},{client:g.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/webrtc/delete/all",{method:"POST",data:o()(o()({},t),{},{client:g.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=r(53067),j=r(41881),R=r(83381),F=r(6992),I=r(91768),N=r(51344),z=r(28031),A=r(80503),U=r(82860),V=r(76204),q=r(11862),E=r(86917),O=r(72244),H=r(73739),B=r(44194),W=r(69935),L=r(47173),D=r(32698),G=r(38805),K=r(87587),J=r(91719),Q=r(31549),X=function(e){var t=e.isEdit,r=e.open,n=e.webrtc,a=e.onClose,s=e.onSubmit,o=(0,v.useIntl)();return(0,Q.jsx)(J.Z,{title:t?"编辑WebRTC配置":"创建WebRTC配置",width:600,open:r,onClose:a,destroyOnClose:!0,children:(0,Q.jsxs)(W.A,{onFinish:function(){var e=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:n,submitter:{searchConfig:{submitText:o.formatMessage({id:"submit",defaultMessage:"Submit"}),resetText:o.formatMessage({id:"reset",defaultMessage:"Reset"})}},children:[(0,Q.jsx)(L.Z,{name:"username",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请输入用户名"}],disabled:t}),(0,Q.jsx)(L.Z,{name:"domain",label:"域名",placeholder:"请输入域名",rules:[{required:!0,message:"请输入域名"}],disabled:t}),(0,Q.jsx)(L.Z.Password,{name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]}),(0,Q.jsx)(L.Z,{name:"displayName",label:"显示名称",placeholder:"请输入显示名称"}),(0,Q.jsx)(L.Z,{name:"email",label:"邮箱",placeholder:"请输入邮箱",rules:[{type:"email",message:"请输入有效的邮箱地址"}]}),(0,Q.jsx)(L.Z,{name:"accountcode",label:"账户代码",placeholder:"请输入账户代码"}),(0,Q.jsx)(D.Z,{name:"enabled",label:"启用",checkedChildren:"开启",unCheckedChildren:"关闭"}),(0,Q.jsx)(G.Z,{name:"transport",label:"传输协议",options:[{label:"UDP",value:"udp"},{label:"TCP",value:"tcp"},{label:"TLS",value:"tls"},{label:"WSS",value:"wss"}],placeholder:"请选择传输协议",rules:[{required:!0,message:"请选择传输协议"}]}),(0,Q.jsx)(L.Z,{name:"stunServer",label:"STUN服务器",placeholder:"请输入STUN服务器地址"}),(0,Q.jsx)(L.Z,{name:"turnServer",label:"TURN服务器",placeholder:"请输入TURN服务器地址"}),(0,Q.jsx)(L.Z,{name:"turnUsername",label:"TURN用户名",placeholder:"请输入TURN用户名"}),(0,Q.jsx)(L.Z.Password,{name:"turnPassword",label:"TURN密码",placeholder:"请输入TURN密码"}),(0,Q.jsx)(K.Z,{name:"remarks",label:"备注",placeholder:"请输入备注信息"})]})})},Y=r(82954),$=["current","pageSize"],_=function(){var e=(0,v.useIntl)(),t=(0,B.useRef)(),r=(0,B.useState)(1),n=h()(r,2),s=n[0],i=n[1],c=(0,B.useState)(10),d=h()(c,2),f=d[0],w=d[1],y=(0,S.u)((function(e){return e.currentOrg})),M=(0,B.useState)(!1),k=h()(M,2),T=k[0],W=k[1],L=(0,B.useState)({}),D=h()(L,2),G=D[0],K=D[1],J=(0,B.useState)(!1),_=h()(J,2),ee=_[0],te=_[1],re=V.Z.useModal(),ne=h()(re,2),ae=ne[0],se=ne[1],oe=(0,B.useState)([]),ie=h()(oe,2),le=ie[0],ce=ie[1],ue=(0,B.useState)([]),de=h()(ue,2),pe=de[0],fe=de[1],he=(0,B.useState)(0),me=h()(he,2),ge=me[0],ve=me[1],xe=(0,B.useState)({}),we=h()(xe,2),be=we[0],ye=we[1],Ze=[].concat([{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"用户名",dataIndex:"username",copyable:!0,fixed:"left",width:120},{title:"域名",dataIndex:"domain",copyable:!0,width:150},{title:"显示名称",dataIndex:"displayName",width:120},{title:"邮箱",dataIndex:"email",width:150},{title:"账户代码",dataIndex:"accountcode",width:120},{title:"传输协议",dataIndex:"transport",width:100,valueEnum:{udp:{text:"UDP",status:"default"},tcp:{text:"TCP",status:"processing"},tls:{text:"TLS",status:"warning"},wss:{text:"WSS",status:"success"}}},{title:"STUN服务器",dataIndex:"stunServer",width:150},{title:"TURN服务器",dataIndex:"turnServer",width:150},{title:"启用",dataIndex:"enabled",width:80,render:function(e,t){return(0,Q.jsx)(q.Z,{checked:t.enabled,disabled:!0,checkedChildren:"开启",unCheckedChildren:"关闭"})}},{title:"最后注册时间",dataIndex:"lastRegister",width:160,valueType:"dateTime"},{title:"注册IP",dataIndex:"registerIp",width:120},{title:"用户代理",dataIndex:"userAgent",width:200,ellipsis:!0},{title:"备注",dataIndex:"remarks",width:200,ellipsis:!0},{title:"创建时间",dataIndex:"createdAt",width:160,valueType:"dateTime"},{title:"更新时间",dataIndex:"updatedAt",width:160,valueType:"dateTime"}],[{title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",fixed:"right",width:120,render:function(t,r){return[(0,Q.jsxs)("a",{onClick:function(){K(r),te(!0),W(!0)},children:[(0,Q.jsx)(j.Z,{})," 编辑"]},"edit"),(0,Q.jsx)(E.Z,{title:e.formatMessage({id:"deleteTip"}),description:"".concat(e.formatMessage({id:"deleteAffirm"})," 该WebRTC配置？"),onConfirm:function(){return Me(r)},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"}),icon:(0,Q.jsx)(R.Z,{style:{color:"red"}}),children:(0,Q.jsx)(O.ZP,{type:"link",danger:!0,children:e.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}]),Me=function(){var r=p()(u()().mark((function r(n){var a,s;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P(n);case 2:200===(a=r.sent).code?(m.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),null===(s=t.current)||void 0===s||s.reload()):m.yw.error(a.message);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),Pe=function(){var e=p()(u()().mark((function e(r){var n,a;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(r);case 2:200===(n=e.sent).code?(null===(a=t.current)||void 0===a||a.reload(),W(!1)):m.yw.error(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=p()(u()().mark((function e(r){var n,a;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.uid=null==G?void 0:G.uid,e.next=3,Z(r);case 3:200===(n=e.sent).code?(null===(a=t.current)||void 0===a||a.reload(),W(!1)):m.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){W(!0),te(!1),K({})},Te=function(){var r=p()(u()().mark((function r(){var n,a,s,o,i,c;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==pe.length){r.next=3;break}return m.yw.warning(e.formatMessage({id:"batch.delete.noselection",defaultMessage:"请选择要删除的项目"})),r.abrupt("return");case 3:m.yw.loading(e.formatMessage({id:"deleting",defaultMessage:"正在删除..."})),a=0,s=0,o=l()(pe),r.prev=7,o.s();case 9:if((i=o.n()).done){r.next=23;break}return c=i.value,r.prev=11,r.next=14,P(c);case 14:200===r.sent.code?a++:s++,r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),s++;case 21:r.next=9;break;case 23:r.next=28;break;case 25:r.prev=25,r.t1=r.catch(7),o.e(r.t1);case 28:return r.prev=28,o.f(),r.finish(28);case 31:m.yw.destroy(),0===s?m.yw.success(e.formatMessage({id:"batch.delete.success",defaultMessage:"成功删除 {count} 条记录"},{count:a})):m.yw.warning(e.formatMessage({id:"batch.delete.partial",defaultMessage:"删除了 {success} 条记录，{fail} 条记录删除失败"},{success:a,fail:s})),ce([]),fe([]),null===(n=t.current)||void 0===n||n.reloadAndRest();case 36:case"end":return r.stop()}}),r,null,[[7,25,28,31],[11,18]])})));return function(){return r.apply(this,arguments)}}(),Se=function(){var r=p()(u()().mark((function r(){var n,a,s;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==ge){r.next=3;break}return m.yw.warning(e.formatMessage({id:"deleteAll.nodata",defaultMessage:"没有数据可删除"})),r.abrupt("return");case 3:return m.yw.loading(e.formatMessage({id:"deleting.all",defaultMessage:"正在删除所有数据..."})),r.prev=4,n={orgUid:null==y?void 0:y.uid},r.next=8,C(n);case 8:200===(a=r.sent).code?(m.yw.destroy(),m.yw.success(e.formatMessage({id:"deleteAll.success",defaultMessage:"成功删除所有数据"})),null===(s=t.current)||void 0===s||s.reloadAndRest()):(m.yw.destroy(),m.yw.error(a.message||e.formatMessage({id:"deleteAll.failed",defaultMessage:"删除失败"}))),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(4),m.yw.destroy(),m.yw.error(e.formatMessage({id:"deleteAll.error",defaultMessage:"删除过程发生错误"})),console.error("删除全部数据错误:",r.t0);case 17:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(){return r.apply(this,arguments)}}(),je=function(){var e=p()(u()().mark((function e(t,r,n){var a,i;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem(g.LA8),i=o()({orgUid:(null==y?void 0:y.uid)||"",accessToken:a||"",exportType:t},be),"current"===t?(i.pageNumber=String(s-1),i.pageSize=String(f)):"all"===t?(i.pageNumber="0",i.pageSize="1000"):"range"===t&&void 0!==r&&void 0!==n&&(i.pageNumber=String(r),i.pageSize=String(n)),window.open((0,Y.kG)()+"/api/v1/freeswitch/webrtc/export?"+new URLSearchParams(i).toString());case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Re=function(e){for(var t=[],r=1e3,n=Math.ceil(e/r),a=function(){var n=s,a=s*r+1,o=Math.min((s+1)*r,e);t.push({key:"export-".concat(s),label:"".concat(a,"-").concat(o," (").concat(o-a+1,"条)"),onClick:function(){return je("range",n,r)}})},s=0;s<n;s++)a();return t},Fe={selectedRowKeys:le,onChange:function(e,t){ce(e),fe(t)}},Ie=function(){var e=p()(u()().mark((function e(t,r,n){var s,l,c,d,p;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.current,l=t.pageSize,c=a()(t,$),i(s),w(l),ye(c),d=o()({pageNumber:s-1,pageSize:l,orgUid:null==y?void 0:y.uid},c),e.next=7,x(d);case 7:return 200===(p=e.sent).code?ve(p.data.totalElements):m.yw.error(p.message),e.abrupt("return",{data:p.data.content,success:!0,total:p.data.totalElements});case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[T&&(0,Q.jsx)(X,{isEdit:ee,open:T,webrtc:G,onClose:function(){W(!1)},onSubmit:function(e){ee?ke(e):Pe(e)}}),(0,Q.jsx)(U.Z,{columns:Ze,actionRef:t,cardBordered:!0,rowSelection:Fe,request:Ie,scroll:{x:1500},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e,t){i(e),w(t)}},dateFormatter:"string",headerTitle:"WebRTC配置列表",toolBarRender:function(){return function(){var t=[(0,Q.jsx)(O.ZP,{type:"primary",icon:(0,Q.jsx)(F.Z,{}),onClick:Ce,children:e.formatMessage({id:"create",defaultMessage:"Create"})},"create")],r=[];le.length>0&&r.push({key:"batchDelete",icon:(0,Q.jsx)(I.Z,{}),danger:!0,label:e.formatMessage({id:"batch.delete"})+" (".concat(le.length,")"),onClick:function(){ae.confirm({title:e.formatMessage({id:"batch.deleteTip"}),content:"".concat(e.formatMessage({id:"batch.deleteAffirm"})," ").concat(le.length," ").concat(e.formatMessage({id:"items"}),"?"),onOk:Te,okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})})}}),r.push({key:"deleteAll",icon:(0,Q.jsx)(N.Z,{}),danger:!0,label:e.formatMessage({id:"deleteAll",defaultMessage:"删除所有"}),onClick:function(){ae.confirm({title:e.formatMessage({id:"deleteAll.tip",defaultMessage:"删除确认"}),content:e.formatMessage({id:"deleteAll.confirm",defaultMessage:"确定要删除所有WebRTC配置数据吗？此操作不可恢复!"}),onOk:Se,okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})})}});var n=[{key:"export-current",icon:(0,Q.jsx)(z.Z,{}),label:e.formatMessage({id:"export.current",defaultMessage:"导出当前页"}),onClick:function(){return je("current")}}];return ge>0&&(ge<=1e3?n.push({key:"export-all",icon:(0,Q.jsx)(z.Z,{}),label:e.formatMessage({id:"export.all",defaultMessage:"导出全部"})+" (".concat(ge,"条)"),onClick:function(){return je("all")}}):n.push({key:"export-range",icon:(0,Q.jsx)(z.Z,{}),label:e.formatMessage({id:"export.range",defaultMessage:"分段导出"})+" (".concat(ge,"条)"),children:Re(ge)})),t.push((0,Q.jsx)(H.Z,{menu:{items:n},placement:"bottom",children:(0,Q.jsxs)(O.ZP,{type:"primary",children:[e.formatMessage({id:"import.export",defaultMessage:"导入导出"}),(0,Q.jsx)(A.Z,{})]})},"importExport")),r.length>0&&t.push((0,Q.jsx)(H.Z,{menu:{items:r},placement:"bottom",children:(0,Q.jsxs)(O.ZP,{type:le.length>0?"primary":"default",danger:le.length>0,children:[le.length>0?e.formatMessage({id:"batch.operations",defaultMessage:"批量操作"})+" (".concat(le.length,")"):e.formatMessage({id:"more.operations",defaultMessage:"更多操作"}),(0,Q.jsx)(A.Z,{})]})},"batchOperations")),t}()}}),se]})},ee=function(){return(0,Q.jsx)(_,{})}}}]);