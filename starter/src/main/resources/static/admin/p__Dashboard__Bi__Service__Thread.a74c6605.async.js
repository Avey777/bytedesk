"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1163],{61107:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(77260),n=a(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},s=a(54183),o=function(e,t){return n.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=n.forwardRef(o)},82690:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(77260),n=a(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},s=a(54183),o=function(e,t){return n.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=n.forwardRef(o)},80556:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(77260),n=a(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},s=a(54183),o=function(e,t){return n.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=n.forwardRef(o)},74840:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(77260),n=a(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},s=a(54183),o=function(e,t){return n.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=n.forwardRef(o)},94956:function(e,t,a){a.d(t,{AT:function(){return p},Lr:function(){return Z},_t:function(){return l},i8:function(){return j},n1:function(){return y},sE:function(){return v},x_:function(){return m}});var r=a(90819),n=a.n(r),i=a(73193),s=a.n(i),o=a(89933),c=a.n(o),u=a(5488),d=a(14870);function l(e){return f.apply(this,arguments)}function f(){return(f=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/query/org",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/query/uid",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/create",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/update",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/update/avatar",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return M.apply(this,arguments)}function M(){return(M=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/update/autoreply",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return w.apply(this,arguments)}function w(){return(w=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/delete",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72657:function(e,t,a){a.d(t,{Eb:function(){return l},RU:function(){return p},xL:function(){return m}});var r=a(90819),n=a.n(r),i=a(73193),s=a.n(i),o=a(89933),c=a.n(o),u=a(5488),d=a(14870);function l(){return f.apply(this,arguments)}function f(){return(f=c()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/service/statistic/query",{method:"GET",params:{channel:u.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/service/statistic/query/date",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/service/statistic/calculate",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},40629:function(e,t,a){a.d(t,{LE:function(){return d},W5:function(){return g},c$:function(){return f},n1:function(){return x},p0:function(){return h},zl:function(){return b}});var r=a(90819),n=a.n(r),i=a(73193),s=a.n(i),o=a(89933),c=a.n(o),u=a(14870);function d(e){return l.apply(this,arguments)}function l(){return(l=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/query/org",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/query/uid",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/create",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/update",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/update/avatar",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=c()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/delete",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97199:function(e,t,a){a.r(t);var r=a(90819),n=a.n(r),i=a(89933),s=a.n(i),o=a(45332),c=a.n(o),u=a(44194),d=a(72207),l=a(27904),f=a(49260),p=a(79401),h=a(49616),m=a(32973),g=a(5780),v=a(27473),x=a(53504),y=a(78875),b=a(20228),j=a(65532),M=a(61155),Z=a(80556),w=a(61107),T=a(82690),k=a(86994),R=a(10022),S=a(74840),Y=a(48004),D=a(72657),z=a(40629),C=a(94956),q=a(28977),O=a.n(q),P=a(34599),W=a(14870),F=a(5488),E=a(18580),I=a(31549),U=d.default.RangePicker,B=l.Z.Option;t.default=function(){var e=(0,W.useIntl)(),t=(0,u.useState)(!1),a=c()(t,2),r=a[0],i=a[1],o=(0,P.u)((function(e){return e.currentOrg})),d=(0,u.useState)([]),q=c()(d,2),J=q[0],X=q[1],L=(0,u.useState)({totalThreads:0,activeThreads:0,avgDuration:0,satisfaction:0,acceptRate:0,abandonRate:0,avgWaitingTime:0,avgFirstResponseTime:0}),A=c()(L,2),G=A[0],H=A[1],V=(0,u.useState)(O()().startOf("day")),N=c()(V,2),Q=N[0],_=N[1],$=(0,u.useState)(O()().endOf("day")),K=c()($,2),ee=K[0],te=K[1],ae=(0,u.useState)("today"),re=c()(ae,2),ne=re[0],ie=re[1],se=(0,u.useState)([O()().startOf("day"),O()().endOf("day")]),oe=c()(se,2),ce=oe[0],ue=oe[1],de=(0,u.useState)({current:1,pageSize:20,total:0}),le=c()(de,2),fe=le[0],pe=le[1],he=(0,u.useState)(F.whQ),me=c()(he,2),ge=me[0],ve=me[1],xe=(0,u.useState)(),ye=c()(xe,2),be=ye[0],je=ye[1],Me=(0,u.useState)(),Ze=c()(Me,2),we=Ze[0],Te=Ze[1],ke=(0,u.useState)([]),Re=c()(ke,2),Se=Re[0],Ye=Re[1],De=(0,u.useState)([]),ze=c()(De,2),Ce=ze[0],qe=ze[1],Oe=[{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,I.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}];(0,u.useEffect)((function(){null!=o&&o.uid&&((0,z.LE)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&Ye((null===(t=e.data)||void 0===t?void 0:t.content)||[])})),(0,C._t)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&qe((null===(t=e.data)||void 0===t?void 0:t.content)||[])})))}),[o]);var Pe=function(){var e=s()(n()().mark((function e(){var t,a,r,s,c,u,d=arguments;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:1,a=d.length>1&&void 0!==d[1]?d[1]:20,i(!0),e.prev=3,r={pageNumber:t-1,pageSize:a,orgUid:null==o?void 0:o.uid,startDate:ce[0].format("YYYY-MM-DD"),endDate:ce[1].format("YYYY-MM-DD"),type:ge,workgroupUid:ge===F.v5D?be:void 0,agentUid:ge===F.fyH?we:void 0},e.next=7,(0,D.RU)(r);case 7:s=e.sent,console.log("queryStatisticServiceByDate response:",s.data,r),200===s.code&&s.data&&(c=s.data,pe({current:t,pageSize:a,total:1}),u=[{key:c.date||O()().format("YYYY-MM-DD"),date:c.date||O()().format("YYYY-MM-DD"),totalThreads:c.totalIncomingThreads||0,activeThreads:c.currentThreadCount||0,avgDuration:c.avgConversationTime?Math.round(c.avgConversationTime/60):0,satisfaction:c.satisfactionRate||0,acceptRate:c.acceptRate||0,abandonRate:c.abandonRate||0,avgWaitingTime:c.avgWaitingTime?Math.round(c.avgWaitingTime/60):0,avgFirstResponseTime:c.avgFirstResponseTime?Math.round(c.avgFirstResponseTime/60):0,transferRate:c.transferRate||0,avgMessagePerThread:c.avgMessagePerThread||0,queuingThreadCount:c.queuingThreadCount||0,maxWaitingTime:c.maxWaitingTime?Math.round(c.maxWaitingTime/60):0}],X(u)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),f.ZP.error("获取会话数据失败"),console.error("获取会话数据失败:",e.t0);case 16:return e.prev=16,i(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){if("custom"===ne)_(Q),te(ee);else{var e=O()();"today"===ne?(_(e.startOf("day")),te(e.endOf("day"))):"yesterday"===ne?(_(e.subtract(1,"day").startOf("day")),te(e.subtract(1,"day").endOf("day"))):"week"===ne?(_(e.startOf("week")),te(e.endOf("week"))):"lastWeek"===ne?(_(e.subtract(1,"week").startOf("week")),te(e.subtract(1,"week").endOf("week"))):"month"===ne&&(_(e.startOf("month")),te(e.endOf("month")))}}),[ne]),(0,u.useEffect)((function(){ue([Q,ee])}),[Q,ee]);var We=function(){var e=s()(n()().mark((function e(){var t,a,r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={orgUid:null==o?void 0:o.uid,startDate:ce[0].format("YYYY-MM-DD"),endDate:ce[1].format("YYYY-MM-DD"),type:ge,workgroupUid:ge===F.v5D?be:void 0,agentUid:ge===F.fyH?we:void 0},e.next=4,(0,D.RU)(t);case 4:a=e.sent,console.log("queryStatisticServiceByDate response:",a.data,t),200===a.code&&a.data&&(r=a.data,H({totalThreads:r.totalIncomingThreads||0,activeThreads:r.currentThreadCount||0,avgDuration:r.avgConversationTime?Math.round(r.avgConversationTime/60):0,satisfaction:r.satisfactionRate||0,acceptRate:r.acceptRate||0,abandonRate:r.abandonRate||0,avgWaitingTime:r.avgWaitingTime?Math.round(r.avgWaitingTime/60):0,avgFirstResponseTime:r.avgFirstResponseTime?Math.round(r.avgFirstResponseTime/60):0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("获取统计数据失败:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){We(),Pe()}),[ce,ge,be,we]);var Fe=[{title:e.formatMessage({id:"bi.thread.table.date"}),dataIndex:"date",key:"date"},{title:e.formatMessage({id:"bi.thread.table.totalThreads"}),dataIndex:"totalThreads",key:"totalThreads"},{title:e.formatMessage({id:"bi.thread.table.activeThreads"}),dataIndex:"activeThreads",key:"activeThreads"},{title:e.formatMessage({id:"bi.thread.table.queuingThreads"}),dataIndex:"queuingThreadCount",key:"queuingThreadCount"},{title:e.formatMessage({id:"bi.thread.table.acceptRate"}),dataIndex:"acceptRate",key:"acceptRate",render:function(e){return"".concat(e,"%")}},{title:e.formatMessage({id:"bi.thread.table.abandonRate"}),dataIndex:"abandonRate",key:"abandonRate",render:function(e){return"".concat(e,"%")}},{title:e.formatMessage({id:"bi.thread.table.avgWaitingTime"}),dataIndex:"avgWaitingTime",key:"avgWaitingTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.thread.table.avgFirstResponseTime"}),dataIndex:"avgFirstResponseTime",key:"avgFirstResponseTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.thread.table.avgDuration"}),dataIndex:"avgDuration",key:"avgDuration",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.thread.table.transferRate"}),dataIndex:"transferRate",key:"transferRate",render:function(e){return"".concat(e,"%")}},{title:e.formatMessage({id:"bi.thread.table.avgMessagePerThread"}),dataIndex:"avgMessagePerThread",key:"avgMessagePerThread"},{title:e.formatMessage({id:"bi.thread.table.satisfaction"}),dataIndex:"satisfaction",key:"satisfaction",render:function(t){return t>0?"".concat(t,"%"):e.formatMessage({id:"bi.common.noRating"})}}];return(0,I.jsxs)("div",{style:{padding:"24px"},children:[(0,I.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,I.jsx)("h2",{children:e.formatMessage({id:"bi.thread.title"})}),(0,I.jsxs)("p",{children:[e.formatMessage({id:"bi.thread.description"}),"today"===ne&&(0,I.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",Q.format("YYYY-MM-DD"),")"]}),"yesterday"===ne&&(0,I.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",Q.format("YYYY-MM-DD"),")"]}),("week"===ne||"lastWeek"===ne||"month"===ne||"custom"===ne)&&(0,I.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",Q.format("YYYY-MM-DD")," ~ ",ee.format("YYYY-MM-DD"),")"]})]})]}),(0,I.jsx)(p.Z,{style:{marginBottom:"24px"},children:(0,I.jsx)(h.Z,{direction:"vertical",style:{width:"100%"},children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsxs)(h.Z,{wrap:!0,children:[(0,I.jsx)(m.ZP.Group,{value:ne,onChange:function(e){return ie(e.target.value)},children:Oe.map((function(e){return(0,I.jsx)(m.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===ne&&(0,I.jsx)(U,{value:[Q,ee],onChange:function(e){_(e[0]),te(e[1])}})]}),(0,I.jsxs)(h.Z,{wrap:!0,children:[(0,I.jsxs)(l.Z,{value:ge,style:{width:120},onChange:function(e){ve(e),je(void 0),Te(void 0)},children:[(0,I.jsx)(B,{value:F.whQ,children:e.formatMessage({id:"bi.statistic.level.organization"})}),(0,I.jsx)(B,{value:F.v5D,children:e.formatMessage({id:"bi.statistic.level.workgroup"})}),(0,I.jsx)(B,{value:F.fyH,children:e.formatMessage({id:"bi.statistic.level.agent"})})]}),ge===F.v5D&&(0,I.jsx)(l.Z,{value:be,style:{width:150},onChange:je,placeholder:e.formatMessage({id:"bi.statistic.level.workgroup"}),allowClear:!0,children:Se.map((function(e){return(0,I.jsx)(B,{value:e.uid,children:e.nickname},e.uid)}))}),ge===F.fyH&&(0,I.jsx)(l.Z,{value:we,style:{width:150},onChange:Te,placeholder:e.formatMessage({id:"bi.statistic.level.agent"}),allowClear:!0,children:Ce.map((function(e){return(0,I.jsx)(B,{value:e.uid,children:e.nickname},e.uid)}))}),(0,I.jsx)(g.ZP,{type:"primary",icon:(0,I.jsx)(Z.Z,{}),onClick:function(){return Pe()},loading:r,children:e.formatMessage({id:"bi.common.refresh"})}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"ticket.statistic.filter.export"}),children:(0,I.jsx)(g.ZP,{icon:(0,I.jsx)(w.Z,{}),onClick:function(){var e=localStorage.getItem(F.LA8);window.open((0,E.kG)()+"/api/v1/service/statistic/export?"+new URLSearchParams({type:ge,startDate:ce[0].format("YYYY-MM-DD 00:00:00"),endDate:ce[1].format("YYYY-MM-DD 23:59:59"),workgroupUid:ge===F.v5D?be:"",agentUid:ge===F.fyH?we:"",orgUid:(null==o?void 0:o.uid)||"",accessToken:e||""}).toString())},children:e.formatMessage({id:"ticket.statistic.filter.export"})})})]})]})})}),(0,I.jsxs)(x.Z,{spinning:r,children:[(0,I.jsxs)(y.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.totalThreads"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.totalThreads.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.totalThreads,prefix:(0,I.jsx)(k.Z,{}),valueStyle:{color:"#3f8600"}})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.activeThreads"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.activeThreads.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.activeThreads,prefix:(0,I.jsx)(R.Z,{}),valueStyle:{color:"#1890ff"}})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.acceptRate"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.acceptRate.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.acceptRate,prefix:(0,I.jsx)(S.Z,{}),valueStyle:{color:"#52c41a"},suffix:"%"})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.avgWaitingTime"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.avgWaitingTime.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.avgWaitingTime,prefix:(0,I.jsx)(Y.Z,{}),valueStyle:{color:"#fa8c16"},suffix:e.formatMessage({id:"bi.time.minute"})})})})]}),(0,I.jsxs)(y.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.avgDuration"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.avgDuration.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.avgDuration,prefix:(0,I.jsx)(Y.Z,{}),valueStyle:{color:"#722ed1"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.avgFirstResponseTime"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.avgFirstResponseTime.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.avgFirstResponseTime,prefix:(0,I.jsx)(Y.Z,{}),valueStyle:{color:"#13c2c2"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.abandonRate"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.abandonRate.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.abandonRate,prefix:(0,I.jsx)(R.Z,{}),valueStyle:{color:"#ff4d4f"},suffix:"%"})})}),(0,I.jsx)(b.Z,{span:6,children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(j.Z,{title:(0,I.jsxs)(h.Z,{children:[e.formatMessage({id:"bi.thread.card.satisfaction"}),(0,I.jsx)(v.Z,{title:e.formatMessage({id:"bi.thread.card.satisfaction.tooltip"}),children:(0,I.jsx)(T.Z,{style:{color:"#999",fontSize:"14px"}})})]}),value:G.satisfaction,prefix:(0,I.jsx)(S.Z,{}),valueStyle:{color:"#eb2f96"},suffix:"%"})})})]}),(0,I.jsx)(p.Z,{title:e.formatMessage({id:"bi.thread.detailData"}),children:(0,I.jsx)(M.Z,{columns:Fe,dataSource:J,pagination:{current:fe.current,pageSize:fe.pageSize,total:fe.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},onChange:function(e){Pe(e.current,e.pageSize)},size:"middle"})})]})]})}}}]);