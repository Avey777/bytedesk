"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[524],{94956:function(t,e,a){a.d(e,{AT:function(){return f},Lr:function(){return M},_t:function(){return l},i8:function(){return k},n1:function(){return y},sE:function(){return h},x_:function(){return x}});var n=a(90819),s=a.n(n),i=a(73193),r=a.n(i),o=a(89933),u=a.n(o),c=a(5488),d=a(14870);function l(t){return p.apply(this,arguments)}function p(){return(p=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/query/org",{method:"GET",params:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return g.apply(this,arguments)}function g(){return(g=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/query/uid",{method:"GET",params:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/create",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return j.apply(this,arguments)}function j(){return(j=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/update",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return v.apply(this,arguments)}function v(){return(v=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/update/avatar",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return Z.apply(this,arguments)}function Z(){return(Z=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/update/autoreply",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return w.apply(this,arguments)}function w(){return(w=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/agent/delete",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},72657:function(t,e,a){a.d(e,{Eb:function(){return l},RU:function(){return f},xL:function(){return x}});var n=a(90819),s=a.n(n),i=a(73193),r=a.n(i),o=a(89933),u=a.n(o),c=a(5488),d=a(14870);function l(){return p.apply(this,arguments)}function p(){return(p=u()(s()().mark((function t(){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/service/statistic/query",{method:"GET",params:{channel:c.XtJ}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return g.apply(this,arguments)}function g(){return(g=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/service/statistic/query/date",{method:"GET",params:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/v1/service/statistic/calculate",{method:"POST",data:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},40629:function(t,e,a){a.d(e,{LE:function(){return d},W5:function(){return m},c$:function(){return p},n1:function(){return j},p0:function(){return g},zl:function(){return v}});var n=a(90819),s=a.n(n),i=a(73193),r=a.n(i),o=a(89933),u=a.n(o),c=a(14870);function d(t){return l.apply(this,arguments)}function l(){return(l=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/query/org",{method:"GET",params:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return(f=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/query/uid",{method:"GET",params:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return x.apply(this,arguments)}function x(){return(x=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/create",{method:"POST",data:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return(h=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/update",{method:"POST",data:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return y.apply(this,arguments)}function y(){return(y=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/update/avatar",{method:"POST",data:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return k.apply(this,arguments)}function k(){return(k=u()(s()().mark((function t(e){return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/workgroup/delete",{method:"POST",data:r()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},31369:function(t,e,a){a.r(e);var n=a(90819),s=a.n(n),i=a(89933),r=a.n(i),o=a(45332),u=a.n(o),c=a(44194),d=a(72207),l=a(27904),p=a(96501),f=a(63628),g=a(49616),x=a(5780),m=a(49260),h=a(79401),j=a(32973),y=a(27473),v=a(78875),k=a(20228),Z=a(65532),M=a(61155),w=a(61107),F=a(80556),b=a(86994),q=a(58087),R=a(25632),S=a(29818),T=a(57976),P=a(61650),A=a(58791),I=a(32693),W=a(14870),O=a(78867),C=a(50792),Y=a(8113),D=a(6815),U=a(94956),E=a(40629),J=a(18751),z=a(34599),X=a(16698),G=a(87663),K=a(5488),L=a(28977),B=a.n(L),H=a(72657),Q=a(18580),$=a(31549),_=d.default.RangePicker,N=l.Z.Option;e.default=function(){var t,e,a=(0,W.useIntl)(),n=(0,J.Z)().translateStringTranct,i=(0,c.useState)(B()().startOf("day")),o=u()(i,2),d=o[0],L=o[1],V=(0,c.useState)(B()().endOf("day")),tt=u()(V,2),et=tt[0],at=tt[1],nt=(0,c.useState)("today"),st=u()(nt,2),it=st[0],rt=st[1],ot=(0,c.useState)(K.whQ),ut=u()(ot,2),ct=ut[0],dt=ut[1],lt=(0,c.useState)(),pt=u()(lt,2),ft=pt[0],gt=pt[1],xt=(0,c.useState)(),mt=u()(xt,2),ht=mt[0],jt=mt[1],yt=(0,z.u)((function(t){return t.currentOrg})),vt=(0,X.E)((function(t){return t})),kt=vt.agentResult,Zt=vt.setAgentResult,Mt=(0,G.$)((function(t){return t})),wt=Mt.workgroupResult,Ft=Mt.setWorkgroupResult,bt=(0,c.useState)(),qt=u()(bt,2),Rt=(qt[0],qt[1]),St=(0,c.useState)(K.OwA),Tt=u()(St,2),Pt=Tt[0],At=Tt[1],It=(0,c.useState)(!1),Wt=u()(It,2),Ot=(Wt[0],Wt[1]),Ct=[{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Yt=12580,Dt=85.6,Ut=25600,Et=78.9,Jt=[{date:"2024-01-01",type:a.formatMessage({id:"ai.statistic.trend.total"}),value:1200},{date:"2024-01-02",type:a.formatMessage({id:"ai.statistic.trend.total"}),value:1300},{date:"2024-01-01",type:a.formatMessage({id:"ai.statistic.trend.resolved"}),value:1e3},{date:"2024-01-02",type:a.formatMessage({id:"ai.statistic.trend.resolved"}),value:1100}],zt=(a.formatMessage({id:"ai.statistic.intent.product"}),a.formatMessage({id:"ai.statistic.intent.technical"}),a.formatMessage({id:"ai.statistic.intent.account"}),a.formatMessage({id:"ai.statistic.intent.other"}),.8),Xt=2.5,Gt=256,Kt=1580.5,Lt=[{key:"1",question:a.formatMessage({id:"ai.statistic.question.password"}),count:256,solved:245},{key:"2",question:a.formatMessage({id:"ai.statistic.question.upgrade"}),count:198,solved:180},{key:"3",question:a.formatMessage({id:"ai.statistic.question.price"}),count:156,solved:156}],Bt={totalArticles:1580,hitRate:78.5,updateFrequency:a.formatMessage({id:"ai.statistic.frequency.daily"}),unmatchedCount:125},Ht=[{depth:a.formatMessage({id:"ai.statistic.depth.one"}),count:3500},{depth:a.formatMessage({id:"ai.statistic.depth.two"}),count:2800},{depth:a.formatMessage({id:"ai.statistic.depth.three"}),count:1500},{depth:a.formatMessage({id:"ai.statistic.depth.more"}),count:800}],Qt=(a.formatMessage({id:"ai.statistic.cost.api"}),a.formatMessage({id:"ai.statistic.cost.token"}),a.formatMessage({id:"ai.statistic.cost.storage"}),[{key:"u1",question:a.formatMessage({id:"ai.statistic.question.complex"}),count:45,category:a.formatMessage({id:"ai.statistic.category.product"})},{key:"u2",question:a.formatMessage({id:"ai.statistic.question.unclear"}),count:38,category:a.formatMessage({id:"ai.statistic.category.technical"})}]),$t=[{type:a.formatMessage({id:"ai.statistic.feedback.positive"}),value:75},{type:a.formatMessage({id:"ai.statistic.feedback.neutral"}),value:15},{type:a.formatMessage({id:"ai.statistic.feedback.negative"}),value:10}],_t={rate:15.5,reasons:[{type:a.formatMessage({id:"ai.statistic.abandon.timeout"}),count:120},{type:a.formatMessage({id:"ai.statistic.abandon.userQuit"}),count:85}]},Nt={rate:15.8,reasons:[{type:a.formatMessage({id:"ai.statistic.transfer.complex"}),count:156},{type:a.formatMessage({id:"ai.statistic.transfer.emotion"}),count:89},{type:a.formatMessage({id:"ai.statistic.transfer.request"}),count:67}],trend:[{date:"2024-01-01",value:16.2},{date:"2024-01-02",value:15.8}]},Vt={overall:92.5,byCategory:[{key:"intent-1",category:a.formatMessage({id:"ai.statistic.intent.product"}),accuracy:94.2,samples:1200},{key:"intent-2",category:a.formatMessage({id:"ai.statistic.intent.technical"}),accuracy:91.8,samples:800}]},te=[{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.group"}),dataIndex:"group",key:"group"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.questions"}),dataIndex:"questions",key:"questions",render:function(t){return(0,$.jsx)(p.Z,{size:"small",dataSource:t,renderItem:function(t,e){return(0,$.jsx)(p.Z.Item,{children:t},"question-".concat(e))}})}},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.similarity"}),dataIndex:"similarity",key:"similarity",render:function(t){return(0,$.jsx)(f.Z,{percent:100*t,size:"small",status:t>.9?"success":"normal"})}},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.table.operation"}),key:"action",render:function(){return(0,$.jsxs)(g.Z,{children:[(0,$.jsx)(x.ZP,{type:"link",children:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.merge"})}),(0,$.jsx)(x.ZP,{type:"link",children:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.split"})})]})}}];(0,c.useEffect)((function(){if("custom"===it)L(d),at(et),At(K.dd4);else{var t=B()();"today"===it?(L(t),at(t),At(K.OwA)):"yesterday"===it?(L(t.subtract(1,"day")),at(t.subtract(1,"day")),At(K.OwA)):"week"===it?(L(t.startOf("week")),at(t.endOf("week")),At(K.dd4)):"lastWeek"===it?(L(t.subtract(1,"week").startOf("week")),at(t.subtract(1,"week").endOf("week")),At(K.dd4)):"month"===it&&(L(t.startOf("month")),at(t.endOf("month")),At(K.dd4))}}),[it]);var ee=function(){var t=r()(s()().mark((function t(){var e,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,E.LE)(e);case 4:a=t.sent,console.log("fetchAllWorkgroups: ",a),200===a.code?(m.ZP.destroy(),Ft(a),a.data.content.length>0&&jt(a.data.content[0].uid)):(m.ZP.destroy(),m.ZP.error(a.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=r()(s()().mark((function t(){var e,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,U._t)(e);case 4:a=t.sent,console.log("fetchAllAgents: ",a),200===a.code?(m.ZP.destroy(),Zt(a),a.data.content.length>0&&gt(a.data.content[0].uid)):(m.ZP.destroy(),m.ZP.error(n(a.message))),console.log("queryAllAgents response",a);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=r()(s()().mark((function t(){var e,n;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ot(!0),t.prev=1,m.ZP.loading("loading"),e={type:ct,startDate:null==d?void 0:d.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==yt?void 0:yt.uid},t.next=6,(0,H.RU)(e);case 6:n=t.sent,console.log("queryStatisticServicesByOrg response",n,e),200===n.code?(m.ZP.destroy(),Rt(n.data)):(m.ZP.destroy(),m.ZP.error(n.message)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),m.ZP.error(a.formatMessage({id:"ticket.message.operation.failed"}));case 14:return t.prev=14,Ot(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=r()(s()().mark((function t(){var e,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.ZP.loading("loading"),e={type:ct,startDate:null==d?void 0:d.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==yt?void 0:yt.uid},t.next=4,(0,H.RU)(e);case 4:a=t.sent,console.log("queryStatisticServicesByOrg response",a,e),200===a.code?m.ZP.destroy():(m.ZP.destroy(),m.ZP.error(a.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){ee(),ae()}),[]),(0,c.useEffect)((function(){ne()}),[ct,ft,ht]),(0,c.useEffect)((function(){se()}),[Pt,ct,ft,ht]),(0,c.useEffect)((function(){ne()}),[d,et]),(0,$.jsxs)("div",{style:{padding:16},children:[(0,$.jsx)(h.Z,{style:{marginBottom:16},children:(0,$.jsxs)(g.Z,{direction:"vertical",style:{width:"100%"},children:[(0,$.jsxs)(g.Z,{wrap:!0,children:[(0,$.jsx)(j.ZP.Group,{value:it,onChange:function(t){return rt(t.target.value)},children:Ct.map((function(t){return(0,$.jsx)(j.ZP.Button,{value:t.value,children:t.label},t.value)}))}),"custom"===it&&(0,$.jsx)(_,{value:[d,et],onChange:function(t){L(t[0]),at(t[1])}})]}),(0,$.jsxs)(g.Z,{wrap:!0,children:[(0,$.jsxs)(l.Z,{placeholder:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:ct,onChange:function(t){return dt(t)},children:[(0,$.jsx)(N,{value:K.whQ,children:(0,$.jsx)(W.FormattedMessage,{id:"i18n.all"})}),(0,$.jsx)(N,{value:K.fyH,children:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,$.jsx)(N,{value:K.v5D,children:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),ct===K.fyH&&(0,$.jsx)(l.Z,{placeholder:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:ft,onChange:function(t){return gt(t)},children:null===(t=kt.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(t){return(0,$.jsx)(N,{value:null==t?void 0:t.uid,children:n(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),ct===K.v5D&&(0,$.jsx)(l.Z,{placeholder:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:ht,onChange:function(t){return jt(t)},children:null===(e=wt.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(t){return(0,$.jsx)(N,{value:null==t?void 0:t.uid,children:n(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),(0,$.jsx)(y.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,$.jsx)(x.ZP,{icon:(0,$.jsx)(w.Z,{}),onClick:function(){var t=localStorage.getItem(K.LA8);window.open((0,Q.kG)()+"/api/v1/statistic/export?"+new URLSearchParams({type:ct,startDate:null==d?void 0:d.format("YYYY-MM-DD 00:00:00"),endDate:null==et?void 0:et.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==yt?void 0:yt.uid,accessToken:t||""}).toString())},children:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,$.jsx)(y.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,$.jsx)(x.ZP,{icon:(0,$.jsx)(F.Z,{}),onClick:function(){return ne()},children:(0,$.jsx)(W.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.totalSessions"}),value:Yt,prefix:(0,$.jsx)(b.Z,{}),suffix:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.resolveRate"}),value:Dt,prefix:(0,$.jsx)(q.Z,{}),suffix:"%"})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.apiCalls"}),value:Ut,prefix:(0,$.jsx)(R.Z,{}),suffix:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbCoverage"}),value:Et,prefix:(0,$.jsx)(S.Z,{}),suffix:"%"})})})]}),(0,$.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.avgResponseTime"}),value:zt,prefix:(0,$.jsx)(R.Z,{}),suffix:"s"})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.errorRate"}),value:Xt,prefix:(0,$.jsx)(T.Z,{}),suffix:"%"})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.tokenCost"}),value:Kt,prefix:(0,$.jsx)(P.Z,{}),precision:2})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(h.Z,{children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.concurrentUsers"}),value:Gt,prefix:(0,$.jsx)(A.Z,{})})})})]}),(0,$.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.trend"}),children:(0,$.jsx)(O.Z,{data:Jt,xField:"date",yField:"value",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.intent"}),children:(0,$.jsx)(C.Z,{})})})]}),(0,$.jsxs)(v.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.sessionDepth"}),extra:(0,$.jsx)(y.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.sessionDepth.tip"}),children:(0,$.jsx)(I.Z,{})}),children:(0,$.jsx)(Y.Z,{data:Ht,xField:"depth",yField:"count",label:{position:"top"}})})}),(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.satisfaction"}),children:(0,$.jsx)(O.Z,{data:[{date:"2024-01-01",value:4.2},{date:"2024-01-02",value:4.3}],xField:"date",yField:"value",yAxis:{min:0,max:5}})})})]}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.hotQuestions"}),style:{marginTop:16},children:(0,$.jsx)(M.Z,{dataSource:Lt,columns:[{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.askCount"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.solvedCount"}),dataIndex:"solved",key:"solved"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.solveRate"}),key:"solveRate",render:function(t,e){return(0,$.jsx)(f.Z,{percent:Math.round(e.solved/e.count*100),size:"small"})}}],pagination:{pageSize:5},rowKey:"key"})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbase"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbase.total"}),value:Bt.totalArticles,suffix:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.unit.article"})})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbase.hitRate"}),value:Bt.hitRate,suffix:"%"})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbase.update"}),value:Bt.updateFrequency})}),(0,$.jsx)(k.Z,{span:6,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.kbase.unmatched"}),value:Bt.unmatchedCount,suffix:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.unit.question"})})})]})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.cost"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.cost.trend"}),children:(0,$.jsx)(O.Z,{data:[{date:"2024-01-01",type:"API",value:580},{date:"2024-01-02",type:"API",value:620},{date:"2024-01-01",type:"Token",value:380},{date:"2024-01-02",type:"Token",value:420}],xField:"date",yField:"value",seriesField:"type"})})}),(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.cost.distribution"}),children:(0,$.jsx)(C.Z,{})})})]})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.peakHour.title"}),style:{marginTop:16},children:(0,$.jsx)(D.Z,{data:[{hour:"00",day:"Mon",value:30},{hour:"01",day:"Mon",value:25}],xField:"hour",yField:"day",colorField:"value",tooltip:{formatter:function(t){return{name:a.formatMessage({id:"ai.statistic.peakHour.sessions"}),value:t.value}}}})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.unsolved.title"}),style:{marginTop:16},children:(0,$.jsx)(M.Z,{dataSource:Qt,columns:[{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.category"}),dataIndex:"category",key:"category"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}}],pagination:{pageSize:5},rowKey:"key"})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.feedback.title"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(C.Z,{})}),(0,$.jsx)(k.Z,{span:12,children:(0,$.jsx)(p.Z,{dataSource:$t,renderItem:function(t,e){return(0,$.jsx)(p.Z.Item,{children:(0,$.jsx)(Z.Z,{title:t.type,value:t.value,suffix:"%"})},"feedback-".concat(e))}})})]})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.abandon.title"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:8,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.abandon.rate"}),value:_t.rate,suffix:"%",valueStyle:{color:_t.rate>20?"#cf1322":"#3f8600"}})}),(0,$.jsx)(k.Z,{span:16,children:(0,$.jsx)(Y.Z,{data:_t.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.similar.title"}),style:{marginTop:16},children:(0,$.jsx)(M.Z,{dataSource:[{key:"s1",group:"账户登录问题",questions:["无法登录","登录失败","登录报错"],count:156,similarity:.85}],columns:te,rowKey:"key"})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.repeat.title"}),style:{marginTop:16},children:(0,$.jsx)(M.Z,{dataSource:[{key:"r1",userId:"user123",question:"如何修改密码",frequency:"每日",lastTime:"2024-01-23 14:30",totalTimes:8}],columns:[{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.repeat.user"}),dataIndex:"userId",key:"userId"}],rowKey:"key"})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.coverage.title"}),style:{marginTop:16},children:(0,$.jsx)(v.Z,{gutter:[16,16],children:[{domain:"产品功能",points:120,covered:98,missing:["高级配置","自定义功能"]}].map((function(t,e){return(0,$.jsx)(k.Z,{span:8,children:(0,$.jsxs)(h.Z,{children:[(0,$.jsx)(Z.Z,{title:t.domain,value:Math.round(t.covered/t.points*100),suffix:"%"}),(0,$.jsx)(f.Z,{percent:Math.round(t.covered/t.points*100),status:t.covered/t.points<.8?"exception":"success"})]})},"coverage-".concat(e))}))})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.transfer.title"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:8,children:(0,$.jsx)(Z.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.transfer.rate"}),value:Nt.rate,suffix:"%",valueStyle:{color:Nt.rate>20?"#cf1322":"#3f8600"}})}),(0,$.jsx)(k.Z,{span:16,children:(0,$.jsx)(Y.Z,{data:Nt.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,$.jsx)(h.Z,{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.intent.accuracy.title"}),style:{marginTop:16},children:(0,$.jsxs)(v.Z,{gutter:[16,16],children:[(0,$.jsx)(k.Z,{span:6}),(0,$.jsx)(k.Z,{span:18,children:(0,$.jsx)(M.Z,{dataSource:Vt.byCategory,columns:[{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.intent.category"}),dataIndex:"category",key:"category"},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.intent.accuracy"}),dataIndex:"accuracy",key:"accuracy",render:function(t){return(0,$.jsx)(f.Z,{percent:t,size:"small"})}},{title:(0,$.jsx)(W.FormattedMessage,{id:"ai.statistic.intent.samples"}),dataIndex:"samples",key:"samples"}],pagination:!1,rowKey:"key"})})]})})]})}},16698:function(t,e,a){a.d(e,{E:function(){return l}});var n=a(73193),s=a.n(n),i=a(76711),r=a.n(i),o=a(5488),u=a(16894),c=a(45034),d=a(47401),l=(0,u.Ue)()((0,c.mW)((0,c.tJ)((0,d.n)((function(t,e){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(e){t((function(t){t.agentResult.data.content.unshift(e)}))},updateAgent:function(e){t((function(t){var a=t.agentResult.data.content,n=a.findIndex((function(t){return t.uid===e.uid}));-1!==n?a[n]=e:console.warn("Agent with uid ".concat(e.uid," not found."))}))},setAgentResult:function(a){var n;(t({agentResult:a}),""===e().currentAgent.uid)&&((null===(n=a.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.length)>0&&t({currentAgent:a.data.content[0]}))},setCurrentAgent:function(a){var n=e().agentResult.data.content,i=n.findIndex((function(t){return t.uid===a.uid}));if(-1!==i){var o=[].concat(r()(n.slice(0,i)),[a],r()(n.slice(i+1))),u=s()(s()({},e().agentResult),{},{data:{content:o}});t({agentResult:u,currentAgent:a})}else console.warn("Agent with the specified uid not found."),t({currentAgent:a})},deleteCurrentAgent:function(a){var n=e().agentResult.data.content,i=n.findIndex((function(t){return t.uid===a}));-1!==i?t({agentResult:s()(s()({},e().agentResult),{},{data:{content:[].concat(r()(n.slice(0,i)),r()(n.slice(i+1)))}})}):console.warn("Agent not found in cache:",a),e().currentAgent.uid===a&&t({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return t({},!0)}}})),{name:o.zzK})))},87663:function(t,e,a){a.d(e,{$:function(){return l}});var n=a(73193),s=a.n(n),i=a(76711),r=a.n(i),o=a(5488),u=a(16894),c=a(45034),d=a(47401),l=(0,u.Ue)()((0,c.mW)((0,c.tJ)((0,d.n)((function(t,e){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(e){t((function(t){t.workgroupResult.data.content.unshift(e)}))},updateWorkgroup:function(e){t((function(t){var a=t.workgroupResult.data.content,n=a.findIndex((function(t){return t.uid===e.uid}));-1!==n?a[n]=e:console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},deleteWorkgroup:function(e){t((function(t){var a=t.workgroupResult.data.content,n=a.findIndex((function(t){return t.uid===e.uid}));-1!==n?a.splice(n,1):console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},setWorkgroupResult:function(a){var n;(t({workgroupResult:a}),""===e().currentWorkgroup.uid)&&((null===(n=a.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.length)>0&&t({currentWorkgroup:a.data.content[0]}))},setCurrentWorkgroup:function(a){var n=e().workgroupResult.data.content,i=n.findIndex((function(t){return t.uid===a.uid}));if(-1!==i){var o=[].concat(r()(n.slice(0,i)),[a],r()(n.slice(i+1))),u=s()(s()({},e().workgroupResult),{},{data:{content:o}});t({workgroupResult:u,currentWorkgroup:a})}else console.warn("Workgroup with the specified uid not found."),t({currentWorkgroup:a})},deleteCurrentWorkgroup:function(a){var n=e().workgroupResult.data.content,i=n.findIndex((function(t){return t.uid===a}));-1!==i?t({workgroupResult:s()(s()({},e().workgroupResult),{},{data:{content:[].concat(r()(n.slice(0,i)),r()(n.slice(i+1)))}})}):console.warn("Workgroup not found in cache:",a),e().currentWorkgroup.uid===a&&t({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return t({},!0)}}})),{name:o.b6l})))}}]);