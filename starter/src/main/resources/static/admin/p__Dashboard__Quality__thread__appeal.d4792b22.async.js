"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3143],{35911:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(77260),r=n(44194),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},i=n(5901),s=function(e,t){return r.createElement(i.Z,(0,a.Z)({},e,{ref:t,icon:l}))};var o=r.forwardRef(s)},83462:function(e,t,n){n.r(t);var a=n(45332),r=n.n(a),l=n(44194),i=n(25950),s=n(34251),o=n(41123),c=n(34651),d=n(43443),p=n(43413),u=n(77407),m=n(63065),f=n(5858),x=n(9248),v=n(14318),g=n(68525),h=n(35129),j=n(35911),y=n(12715),S=n(31549),Z=i.Z.Search,b=s.Z.Option,I=o.default.RangePicker,O=i.Z.TextArea;t.default=function(){var e=l.useState(!1),t=r()(e,2),n=t[0],a=t[1],i=l.useState(null),o=r()(i,2),k=o[0],w=o[1],E=c.Z.useForm(),$=r()(E,1)[0],C=[{title:"申诉ID",dataIndex:"appealId",key:"appealId"},{title:"会话ID",dataIndex:"sessionId",key:"sessionId"},{title:"申诉人",dataIndex:"appealer",key:"appealer"},{title:"原评分",dataIndex:"originalScore",key:"originalScore",render:function(e){return(0,S.jsxs)(d.Z,{color:"red",children:[e,"分"]})}},{title:"申诉理由",dataIndex:"appealReason",key:"appealReason",ellipsis:!0},{title:"申诉状态",dataIndex:"appealStatus",key:"appealStatus",render:function(e){var t="待审核"===e?"orange":"通过"===e?"green":"red";return(0,S.jsx)(d.Z,{color:t,children:e})}},{title:"申诉时间",dataIndex:"appealTime",key:"appealTime"},{title:"操作",key:"action",render:function(e,t){return(0,S.jsxs)(p.Z,{size:"middle",children:[(0,S.jsx)(u.ZP,{type:"link",size:"small",children:"查看详情"}),"待审核"===t.appealStatus&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.ZP,{type:"link",size:"small",onClick:function(){return R(t,"approve")},children:"通过"}),(0,S.jsx)(u.ZP,{type:"link",size:"small",onClick:function(){return R(t,"reject")},children:"驳回"})]})]})}}],R=function(e,t){w(e),a(!0),$.setFieldsValue({action:t,reviewComment:""})};return(0,S.jsx)("div",{style:{padding:"20px"},children:(0,S.jsxs)(m.Z,{title:"会话质检申诉审核",extra:(0,S.jsxs)(p.Z,{children:[(0,S.jsx)(u.ZP,{icon:(0,S.jsx)(j.Z,{}),children:"刷新"}),(0,S.jsx)(u.ZP,{type:"primary",children:"导出"})]}),children:[(0,S.jsxs)(f.Z,{gutter:16,style:{marginBottom:16},children:[(0,S.jsx)(x.Z,{span:6,children:(0,S.jsx)(v.Z,{title:"总申诉数",value:25})}),(0,S.jsx)(x.Z,{span:6,children:(0,S.jsx)(v.Z,{title:"待审核",value:8})}),(0,S.jsx)(x.Z,{span:6,children:(0,S.jsx)(v.Z,{title:"已通过",value:12})}),(0,S.jsx)(x.Z,{span:6,children:(0,S.jsx)(v.Z,{title:"已驳回",value:5})})]}),(0,S.jsx)("div",{style:{marginBottom:16},children:(0,S.jsxs)(p.Z,{wrap:!0,children:[(0,S.jsx)(Z,{placeholder:"搜索申诉ID/会话ID/申诉人",style:{width:300}}),(0,S.jsxs)(s.Z,{placeholder:"申诉状态",style:{width:120},children:[(0,S.jsx)(b,{value:"all",children:"全部"}),(0,S.jsx)(b,{value:"pending",children:"待审核"}),(0,S.jsx)(b,{value:"approved",children:"已通过"}),(0,S.jsx)(b,{value:"rejected",children:"已驳回"})]}),(0,S.jsx)(I,{placeholder:["开始时间","结束时间"]}),(0,S.jsx)(u.ZP,{type:"primary",icon:(0,S.jsx)(y.Z,{}),children:"搜索"})]})}),(0,S.jsx)(g.Z,{columns:C,dataSource:[{key:"1",appealId:"A001",sessionId:"S001",appealer:"张三",originalScore:75,appealReason:"客户问题描述不清晰，导致回答不够准确，但服务态度良好",appealStatus:"待审核",appealTime:"2025-01-16 14:30:00"},{key:"2",appealId:"A002",sessionId:"S002",appealer:"李四",originalScore:80,appealReason:"系统评分有误，实际服务质量符合标准",appealStatus:"通过",appealTime:"2025-01-16 15:20:00"}]}),(0,S.jsx)(h.Z,{title:"申诉审核",open:n,onOk:function(){$.validateFields().then((function(e){console.log("Review values:",e),a(!1),$.resetFields()}))},onCancel:function(){a(!1),$.resetFields()},width:600,children:(0,S.jsxs)(c.Z,{form:$,layout:"vertical",children:[(0,S.jsx)(c.Z.Item,{label:"申诉信息",children:(0,S.jsxs)("div",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px"},children:[(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"申诉人："}),null==k?void 0:k.appealer]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"会话ID："}),null==k?void 0:k.sessionId]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"原评分："}),null==k?void 0:k.originalScore,"分"]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("strong",{children:"申诉理由："}),null==k?void 0:k.appealReason]})]})}),(0,S.jsx)(c.Z.Item,{name:"reviewComment",label:"审核意见",rules:[{required:!0,message:"请输入审核意见"}],children:(0,S.jsx)(O,{rows:4,placeholder:"请输入审核意见..."})})]})})]})})}},9248:function(e,t,n){var a=n(70065);t.Z=a.Z},5858:function(e,t,n){var a=n(70231);t.Z=a.Z},14318:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(44194),r=n(99026),l=n(59644),i=n(26867),s=n(51865),o=n.n(s),c=n(53230),d=n(81424),p=n(83043);var u=e=>{const{value:t,formatter:n,precision:r,decimalSeparator:l,groupSeparator:i="",prefixCls:s}=e;let o;if("function"==typeof n)o=n(t);else{const e=String(t),n=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(n&&"-"!==e){const e=n[1];let t=n[2]||"0",c=n[4]||"";t=t.replace(/\B(?=(\d{3})+(?!\d))/g,i),"number"==typeof r&&(c=c.padEnd(r,"0").slice(0,r>0?r:0)),c&&(c=`${l}${c}`),o=[a.createElement("span",{key:"int",className:`${s}-content-value-int`},e,t),c&&a.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},c)]}else o=e}return a.createElement("span",{className:`${s}-content-value`},o)},m=n(15273),f=n(81254),x=n(10750);const v=e=>{const{componentCls:t,marginXXS:n,padding:a,colorTextDescription:r,titleFontSize:l,colorTextHeading:i,contentFontSize:s,fontFamily:o}=e;return{[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{[`${t}-title`]:{marginBottom:n,color:r,fontSize:l},[`${t}-skeleton`]:{paddingTop:a},[`${t}-content`]:{color:i,fontSize:s,fontFamily:o,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}};var g=(0,f.I$)("Statistic",(e=>{const t=(0,x.IX)(e,{});return[v(t)]}),(e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}})),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const j=a.forwardRef(((e,t)=>{const{prefixCls:n,className:r,rootClassName:l,style:i,valueStyle:s,value:m=0,title:f,valueRender:x,prefix:v,suffix:j,loading:y=!1,formatter:S,precision:Z,decimalSeparator:b=".",groupSeparator:I=",",onMouseEnter:O,onMouseLeave:k}=e,w=h(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:E,direction:$,className:C,style:R}=(0,d.dj)("statistic"),z=E("statistic",n),[F,N,P]=g(z),T=a.createElement(u,{decimalSeparator:b,groupSeparator:I,prefixCls:z,formatter:S,precision:Z,value:m}),D=o()(z,{[`${z}-rtl`]:"rtl"===$},C,r,l,N,P),M=a.useRef(null);a.useImperativeHandle(t,(()=>({nativeElement:M.current})));const H=(0,c.Z)(w,{aria:!0,data:!0});return F(a.createElement("div",Object.assign({},H,{ref:M,className:D,style:Object.assign(Object.assign({},R),i),onMouseEnter:O,onMouseLeave:k}),f&&a.createElement("div",{className:`${z}-title`},f),a.createElement(p.Z,{paragraph:!1,loading:y,className:`${z}-skeleton`},a.createElement("div",{style:s,className:`${z}-content`},v&&a.createElement("span",{className:`${z}-content-prefix`},v),x?x(T):T,j&&a.createElement("span",{className:`${z}-content-suffix`},j)))))}));var y=j;const S=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function Z(e,t,n){const{format:a=""}=t,r=new Date(e).getTime(),l=Date.now();return function(e,t){let n=e;const a=/\[[^\]]*]/g,r=(t.match(a)||[]).map((e=>e.slice(1,-1))),l=t.replace(a,"[]"),i=S.reduce(((e,[t,a])=>{if(e.includes(t)){const r=Math.floor(n/a);return n-=r*a,e.replace(new RegExp(`${t}+`,"g"),(e=>{const t=e.length;return r.toString().padStart(t,"0")}))}return e}),l);let s=0;return i.replace(a,(()=>{const e=r[s];return s+=1,e}))}(n?Math.max(r-l,0):Math.max(l-r,0),a)}var b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var I=e=>{const{value:t,format:n="HH:mm:ss",onChange:s,onFinish:o,type:c}=e,d=b(e,["value","format","onChange","onFinish","type"]),p="countdown"===c,[u,m]=a.useState(null),f=(0,r.zX)((()=>{const e=Date.now(),n=function(e){return new Date(e).getTime()}(t);m({});return null==s||s(p?n-e:e-n),!(p&&n<e)||(null==o||o(),!1)}));a.useEffect((()=>{let e;const t=()=>{e=(0,l.Z)((()=>{f()&&t()}))};return t(),()=>l.Z.cancel(e)}),[t,p]),a.useEffect((()=>{m({})}),[]);return a.createElement(y,Object.assign({},d,{value:t,valueRender:e=>(0,i.Tm)(e,{title:void 0}),formatter:(e,t)=>u?Z(e,Object.assign(Object.assign({},t),{format:n}),p):"-"}))};const O=e=>a.createElement(I,Object.assign({},e,{type:"countdown"}));var k=a.memo(O);y.Timer=I,y.Countdown=k;var w=y}}]);