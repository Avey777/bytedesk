"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1761],{10153:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"development/history","title":"Historical Message Records","description":"This page explains how to control whether to automatically load historical chat records through the loadHistory parameter, helping users view historical session content.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/development/history.md","sourceDirName":"development","slug":"/development/history","permalink":"/docs/docs/development/history","draft":false,"unlisted":false,"editUrl":"https://github.com/bytedesk/bytedesk-docs/blob/main/docs/development/history.md","tags":[],"version":"current","lastUpdatedBy":"jack ning","lastUpdatedAt":1753832748000,"sidebarPosition":9,"frontMatter":{"sidebar_label":"Historical Messages","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"SaaS","permalink":"/docs/docs/development/saas"},"next":{"title":"Chat Messages","permalink":"/docs/docs/development/message"}}');var t=n(86070),o=n(19971);const s={sidebar_label:"Historical Messages",sidebar_position:9},a="Historical Message Records",c={},l=[{value:"Why do we need historical records functionality?",id:"why-do-we-need-historical-records-functionality",level:2},{value:"Integration Method",id:"integration-method",level:2},{value:"Core Parameters",id:"core-parameters",level:3},{value:"H5 Link Integration Method",id:"h5-link-integration-method",level:3},{value:"H5 Link Format",id:"h5-link-format",level:3},{value:"Example Code",id:"example-code",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Important Notes",id:"important-notes",level:2}];function d(e){const i={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"historical-message-records",children:"Historical Message Records"})}),"\n",(0,t.jsxs)(i.p,{children:["This page explains how to control whether to automatically load historical chat records through the ",(0,t.jsx)(i.code,{children:"loadHistory"})," parameter, helping users view historical session content."]}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:["Note: Please ensure you have completed the basic functionality integration in the ",(0,t.jsx)(i.a,{href:"/docs/docs/channel/react",children:"React Integration Guide"})," before using the historical records feature."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"why-do-we-need-historical-records-functionality",children:"Why do we need historical records functionality?"}),"\n",(0,t.jsx)(i.p,{children:"In actual business scenarios, you may want to:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Let users view previous chat records"}),"\n",(0,t.jsx)(i.li,{children:"Maintain session continuity"}),"\n",(0,t.jsx)(i.li,{children:"Facilitate users to review important information"}),"\n",(0,t.jsx)(i.li,{children:"Improve user experience and communication efficiency"}),"\n",(0,t.jsx)(i.li,{children:"Help users understand historical problem handling situations"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Through the historical records functionality, users can better understand previous communication content and provide a more coherent service experience."}),"\n",(0,t.jsx)(i.h2,{id:"integration-method",children:"Integration Method"}),"\n",(0,t.jsxs)(i.p,{children:["The Weiyu customer service system supports controlling historical record loading through configuration parameters. When initializing the customer service component, pass the ",(0,t.jsx)(i.code,{children:"loadHistory"})," parameter through the ",(0,t.jsx)(i.code,{children:"chatConfig"})," configuration item."]}),"\n",(0,t.jsx)(i.h3,{id:"core-parameters",children:"Core Parameters"}),"\n",(0,t.jsx)(i.p,{children:"The following are the core parameter configurations for the historical records functionality:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"chatConfig: {\n  // Required parameters\n  org: 'df_org_uid',        // Your organization ID\n  t: \"1\",                   // Session type\n  sid: 'df_wg_uid',         // Session ID\n  \n  // Historical records parameter - This is the key to controlling historical record loading\n  loadHistory: \"1\",         // Load historical records when value is \"1\", don't load for other values\n  \n  // Other optional parameters\n  visitorUid: 'visitor_001',       // User unique ID\n  nickname: 'Visitor Xiao Ming',   // User nickname\n  avatar: 'https://example.com/avatar.jpg' // User avatar URL\n}\n"})}),"\n",(0,t.jsx)(i.h3,{id:"h5-link-integration-method",children:"H5 Link Integration Method"}),"\n",(0,t.jsx)(i.p,{children:"In addition to component integration, the Weiyu customer service system also supports directly controlling historical record loading through URL parameters, suitable for H5 pages or quick integration scenarios."}),"\n",(0,t.jsx)(i.h3,{id:"h5-link-format",children:"H5 Link Format"}),"\n",(0,t.jsx)(i.p,{children:"The basic link format is as follows:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"https://www.weiyuai.cn/chat/?org=Your Organization ID&t=1&sid=Session ID&loadHistory=1\n"})}),"\n",(0,t.jsx)(i.p,{children:"Parameter description:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"loadHistory"}),': Controls whether to load historical records, loads when value is "1", doesn\'t load for other values']}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"example-code",children:"Example Code"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// 1. Prepare basic parameters\nconst orgId = 'df_org_uid';\nconst sessionId = 'df_wg_uid';\n\n// 2. Concatenate complete URL (load historical records)\nconst chatUrl = `https://www.weiyuai.cn/chat/?org=${orgId}&t=1&sid=${sessionId}&loadHistory=1`;\n\n// 3. Use this link for navigation or generate a button\nwindow.location.href = chatUrl;\n// Or create a link\n// <a href=\"${chatUrl}\">View Historical Records</a>\n"})}),"\n",(0,t.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Load on Demand"}),": Decide whether to load historical records based on business scenarios"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Performance Considerations"}),": When there are many historical records, it may affect loading speed. It's recommended to appropriately control the loading quantity"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"User Experience"}),": Provide historical records functionality in appropriate scenarios to improve user satisfaction"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Data Security"}),": Ensure the security and privacy protection of historical records"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Parameter Value"}),": The ",(0,t.jsx)(i.code,{children:"loadHistory"}),' parameter uses the string "1" to indicate loading historical records']}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Loading Timing"}),": Historical records are loaded when the session is initialized"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Data Volume"}),": When there are many historical records, it may affect loading performance"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Update Mechanism"}),": When the parameter value changes, the customer service component needs to be re-initialized to apply the new settings"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},19971:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>a});var r=n(30758);const t={},o=r.createContext(t);function s(e){const i=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:i},e.children)}}}]);